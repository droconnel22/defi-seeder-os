{
  "contractName": "P1BalanceMath",
  "abi": [],
  "metadata": "{\"compiler\":{\"version\":\"0.5.16+commit.9c3226ce\"},\"language\":\"Solidity\",\"output\":{\"abi\":[],\"devdoc\":{\"author\":\"dYdX\",\"details\":\"Library for manipulating P1Types.Balance structs.\",\"methods\":{},\"title\":\"P1BalanceMath\"},\"userdoc\":{\"methods\":{}}},\"settings\":{\"compilationTarget\":{\"/Users/dennismacpro/Projects/Defi/Ethereum-Solidity-Collection/icarus-protocol/defi-seeder/.tmp/dydx-protocol/perpetual/contracts/protocol/v1/lib/P1BalanceMath.sol\":\"P1BalanceMath\"},\"evmVersion\":\"istanbul\",\"libraries\":{},\"optimizer\":{\"enabled\":true,\"runs\":10000},\"remappings\":[]},\"sources\":{\"/Users/dennismacpro/Projects/Defi/Ethereum-Solidity-Collection/icarus-protocol/defi-seeder/.tmp/dydx-protocol/perpetual/contracts/protocol/lib/BaseMath.sol\":{\"keccak256\":\"0x561adc53b69196d5e61f1d6545192ab14e649074989a8aa726582d4543a0ba07\",\"urls\":[\"bzz-raw://360351faad6425bad77f2cbbf01a973e7fb0d55f2ab40d8a5ff516352107cc37\",\"dweb:/ipfs/QmSL6yguhNWjCLhb2bugyiHbS6aD4ZsqnjfDHF3b7KjeHF\"]},\"/Users/dennismacpro/Projects/Defi/Ethereum-Solidity-Collection/icarus-protocol/defi-seeder/.tmp/dydx-protocol/perpetual/contracts/protocol/lib/SafeCast.sol\":{\"keccak256\":\"0xb31544ee005e678cb43a3ffc9c295971cedb2bc1a5c5f535177868a1e379d04a\",\"urls\":[\"bzz-raw://7a8236a505d1a69f437f2b3aa656f52b98b4d01d4acd9dfaac4ff75a3240958a\",\"dweb:/ipfs/QmS8gHGpFhr8qmWZq5FeYKUaiRNXjiwwVBo661DAoJo2tk\"]},\"/Users/dennismacpro/Projects/Defi/Ethereum-Solidity-Collection/icarus-protocol/defi-seeder/.tmp/dydx-protocol/perpetual/contracts/protocol/lib/SignedMath.sol\":{\"keccak256\":\"0x9f745b6697af4fea0f46982b2d4689650fba69d9e2faec8a20aed417a5d730ef\",\"urls\":[\"bzz-raw://0cda373847c95e7a2ecf7805d29a49a9149da2a0d24d891cf8da38530fd4075e\",\"dweb:/ipfs/QmZkZJijC3S58Xd2HRv5EK3k4j6861ysC45T7kSUq2UkuS\"]},\"/Users/dennismacpro/Projects/Defi/Ethereum-Solidity-Collection/icarus-protocol/defi-seeder/.tmp/dydx-protocol/perpetual/contracts/protocol/v1/lib/P1BalanceMath.sol\":{\"keccak256\":\"0xdbac6dd81f8ebfefe4241fea4f15956e2c773f2d064aaccdc53ade6eda594e1c\",\"urls\":[\"bzz-raw://4955a71e05f396d93220f408a85d3db5effc7a419715b039ee79d51f1ded7fbd\",\"dweb:/ipfs/QmXzK1U2u25hqrvzzUBbndm8YhHWK9BQKyxUGNnu2rnyUk\"]},\"/Users/dennismacpro/Projects/Defi/Ethereum-Solidity-Collection/icarus-protocol/defi-seeder/.tmp/dydx-protocol/perpetual/contracts/protocol/v1/lib/P1Types.sol\":{\"keccak256\":\"0x4c06a8f9779e4a2975ceb5e05583c10309d1979814c7d408ee9045b5c896f8d2\",\"urls\":[\"bzz-raw://2231570e2572d884876eb5c443e4ae59cf8168d8f0e33cc38ebf88497ae65def\",\"dweb:/ipfs/QmWWpyL1P7nUVnpXEULTqCTTvsKSNwnRRvB4kFCuJeMGGo\"]},\"@openzeppelin/contracts/math/SafeMath.sol\":{\"keccak256\":\"0x640b6dee7a4b830bdfd52b5031a07fc2b12209f5b2e29e5d364a7d37f69d8076\",\"urls\":[\"bzz-raw://31113152e1ddb78fe7a4197f247591ca894e93f916867beb708d8e747b6cc74f\",\"dweb:/ipfs/QmbZaJyXdpsYGykVhHH9qpVGQg9DGCxE2QufbCUy3daTgq\"]}},\"version\":1}",
  "bytecode": "0x60636023600b82828239805160001a607314601657fe5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea365627a7a723158201670878a3e7a07f113b53443ddf81ef49d13d55fad3d083a70b9e257edbc0fb46c6578706572696d656e74616cf564736f6c63430005100040",
  "deployedBytecode": "0x73000000000000000000000000000000000000000030146080604052600080fdfea365627a7a723158201670878a3e7a07f113b53443ddf81ef49d13d55fad3d083a70b9e257edbc0fb46c6578706572696d656e74616cf564736f6c63430005100040",
  "sourceMap": "1041:5549:28:-;;132:2:-1;166:7;155:9;146:7;137:37;255:7;249:14;246:1;241:23;235:4;232:33;222:2;;269:9;222:2;293:9;290:1;283:20;323:4;314:7;306:22;347:7;338;331:24",
  "deployedSourceMap": "1041:5549:28:-;;;;;;;;",
  "source": "/*\n\n    Copyright 2020 dYdX Trading Inc.\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n*/\n\npragma solidity 0.5.16;\npragma experimental ABIEncoderV2;\n\nimport { SafeMath } from \"@openzeppelin/contracts/math/SafeMath.sol\";\nimport { P1Types } from \"./P1Types.sol\";\nimport { BaseMath } from \"../../lib/BaseMath.sol\";\nimport { SafeCast } from \"../../lib/SafeCast.sol\";\nimport { SignedMath } from \"../../lib/SignedMath.sol\";\n\n\n/**\n * @title P1BalanceMath\n * @author dYdX\n *\n * @dev Library for manipulating P1Types.Balance structs.\n */\nlibrary P1BalanceMath {\n    using BaseMath for uint256;\n    using SafeCast for uint256;\n    using SafeMath for uint256;\n    using SignedMath for SignedMath.Int;\n    using P1BalanceMath for P1Types.Balance;\n\n    // ============ Constants ============\n\n    uint256 private constant FLAG_MARGIN_IS_POSITIVE = 1 << (8 * 31);\n    uint256 private constant FLAG_POSITION_IS_POSITIVE = 1 << (8 * 15);\n\n    // ============ Functions ============\n\n    /**\n     * @dev Create a copy of the balance struct.\n     */\n    function copy(\n        P1Types.Balance memory balance\n    )\n        internal\n        pure\n        returns (P1Types.Balance memory)\n    {\n        return P1Types.Balance({\n            marginIsPositive: balance.marginIsPositive,\n            positionIsPositive: balance.positionIsPositive,\n            margin: balance.margin,\n            position: balance.position\n        });\n    }\n\n    /**\n     * @dev In-place add amount to balance.margin.\n     */\n    function addToMargin(\n        P1Types.Balance memory balance,\n        uint256 amount\n    )\n        internal\n        pure\n    {\n        SignedMath.Int memory signedMargin = balance.getMargin();\n        signedMargin = signedMargin.add(amount);\n        balance.setMargin(signedMargin);\n    }\n\n    /**\n     * @dev In-place subtract amount from balance.margin.\n     */\n    function subFromMargin(\n        P1Types.Balance memory balance,\n        uint256 amount\n    )\n        internal\n        pure\n    {\n        SignedMath.Int memory signedMargin = balance.getMargin();\n        signedMargin = signedMargin.sub(amount);\n        balance.setMargin(signedMargin);\n    }\n\n    /**\n     * @dev In-place add amount to balance.position.\n     */\n    function addToPosition(\n        P1Types.Balance memory balance,\n        uint256 amount\n    )\n        internal\n        pure\n    {\n        SignedMath.Int memory signedPosition = balance.getPosition();\n        signedPosition = signedPosition.add(amount);\n        balance.setPosition(signedPosition);\n    }\n\n    /**\n     * @dev In-place subtract amount from balance.position.\n     */\n    function subFromPosition(\n        P1Types.Balance memory balance,\n        uint256 amount\n    )\n        internal\n        pure\n    {\n        SignedMath.Int memory signedPosition = balance.getPosition();\n        signedPosition = signedPosition.sub(amount);\n        balance.setPosition(signedPosition);\n    }\n\n    /**\n     * @dev Returns the positive and negative values of the margin and position together, given a\n     *  price, which is used as a conversion rate between the two currencies.\n     *\n     *  No rounding occurs here--the returned values are \"base values\" with extra precision.\n     */\n    function getPositiveAndNegativeValue(\n        P1Types.Balance memory balance,\n        uint256 price\n    )\n        internal\n        pure\n        returns (uint256, uint256)\n    {\n        uint256 positiveValue = 0;\n        uint256 negativeValue = 0;\n\n        // add value of margin\n        if (balance.marginIsPositive) {\n            positiveValue = uint256(balance.margin).mul(BaseMath.base());\n        } else {\n            negativeValue = uint256(balance.margin).mul(BaseMath.base());\n        }\n\n        // add value of position\n        uint256 positionValue = uint256(balance.position).mul(price);\n        if (balance.positionIsPositive) {\n            positiveValue = positiveValue.add(positionValue);\n        } else {\n            negativeValue = negativeValue.add(positionValue);\n        }\n\n        return (positiveValue, negativeValue);\n    }\n\n    /**\n     * @dev Returns a compressed bytes32 representation of the balance for logging.\n     */\n    function toBytes32(\n        P1Types.Balance memory balance\n    )\n        internal\n        pure\n        returns (bytes32)\n    {\n        uint256 result =\n            uint256(balance.position)\n            | (uint256(balance.margin) << 128)\n            | (balance.marginIsPositive ? FLAG_MARGIN_IS_POSITIVE : 0)\n            | (balance.positionIsPositive ? FLAG_POSITION_IS_POSITIVE : 0);\n        return bytes32(result);\n    }\n\n    // ============ Helper Functions ============\n\n    /**\n     * @dev Returns a SignedMath.Int version of the margin in balance.\n     */\n    function getMargin(\n        P1Types.Balance memory balance\n    )\n        internal\n        pure\n        returns (SignedMath.Int memory)\n    {\n        return SignedMath.Int({\n            value: balance.margin,\n            isPositive: balance.marginIsPositive\n        });\n    }\n\n    /**\n     * @dev Returns a SignedMath.Int version of the position in balance.\n     */\n    function getPosition(\n        P1Types.Balance memory balance\n    )\n        internal\n        pure\n        returns (SignedMath.Int memory)\n    {\n        return SignedMath.Int({\n            value: balance.position,\n            isPositive: balance.positionIsPositive\n        });\n    }\n\n    /**\n     * @dev In-place modify the signed margin value of a balance.\n     */\n    function setMargin(\n        P1Types.Balance memory balance,\n        SignedMath.Int memory newMargin\n    )\n        internal\n        pure\n    {\n        balance.margin = newMargin.value.toUint120();\n        balance.marginIsPositive = newMargin.isPositive;\n    }\n\n    /**\n     * @dev In-place modify the signed position value of a balance.\n     */\n    function setPosition(\n        P1Types.Balance memory balance,\n        SignedMath.Int memory newPosition\n    )\n        internal\n        pure\n    {\n        balance.position = newPosition.value.toUint120();\n        balance.positionIsPositive = newPosition.isPositive;\n    }\n}\n",
  "sourcePath": "/Users/dennismacpro/Projects/Defi/Ethereum-Solidity-Collection/icarus-protocol/defi-seeder/.tmp/dydx-protocol/perpetual/contracts/protocol/v1/lib/P1BalanceMath.sol",
  "ast": {
    "absolutePath": "/Users/dennismacpro/Projects/Defi/Ethereum-Solidity-Collection/icarus-protocol/defi-seeder/.tmp/dydx-protocol/perpetual/contracts/protocol/v1/lib/P1BalanceMath.sol",
    "exportedSymbols": {
      "P1BalanceMath": [
        3607
      ]
    },
    "id": 3608,
    "nodeType": "SourceUnit",
    "nodes": [
      {
        "id": 3225,
        "literals": [
          "solidity",
          "0.5",
          ".16"
        ],
        "nodeType": "PragmaDirective",
        "src": "603:23:28"
      },
      {
        "id": 3226,
        "literals": [
          "experimental",
          "ABIEncoderV2"
        ],
        "nodeType": "PragmaDirective",
        "src": "627:33:28"
      },
      {
        "absolutePath": "@openzeppelin/contracts/math/SafeMath.sol",
        "file": "@openzeppelin/contracts/math/SafeMath.sol",
        "id": 3228,
        "nodeType": "ImportDirective",
        "scope": 3608,
        "sourceUnit": 11413,
        "src": "662:69:28",
        "symbolAliases": [
          {
            "foreign": 3227,
            "local": null
          }
        ],
        "unitAlias": ""
      },
      {
        "absolutePath": "/Users/dennismacpro/Projects/Defi/Ethereum-Solidity-Collection/icarus-protocol/defi-seeder/.tmp/dydx-protocol/perpetual/contracts/protocol/v1/lib/P1Types.sol",
        "file": "./P1Types.sol",
        "id": 3230,
        "nodeType": "ImportDirective",
        "scope": 3608,
        "sourceUnit": 3690,
        "src": "732:40:28",
        "symbolAliases": [
          {
            "foreign": 3229,
            "local": null
          }
        ],
        "unitAlias": ""
      },
      {
        "absolutePath": "/Users/dennismacpro/Projects/Defi/Ethereum-Solidity-Collection/icarus-protocol/defi-seeder/.tmp/dydx-protocol/perpetual/contracts/protocol/lib/BaseMath.sol",
        "file": "../../lib/BaseMath.sol",
        "id": 3232,
        "nodeType": "ImportDirective",
        "scope": 3608,
        "sourceUnit": 462,
        "src": "773:50:28",
        "symbolAliases": [
          {
            "foreign": 3231,
            "local": null
          }
        ],
        "unitAlias": ""
      },
      {
        "absolutePath": "/Users/dennismacpro/Projects/Defi/Ethereum-Solidity-Collection/icarus-protocol/defi-seeder/.tmp/dydx-protocol/perpetual/contracts/protocol/lib/SafeCast.sol",
        "file": "../../lib/SafeCast.sol",
        "id": 3234,
        "nodeType": "ImportDirective",
        "scope": 3608,
        "sourceUnit": 829,
        "src": "824:50:28",
        "symbolAliases": [
          {
            "foreign": 3233,
            "local": null
          }
        ],
        "unitAlias": ""
      },
      {
        "absolutePath": "/Users/dennismacpro/Projects/Defi/Ethereum-Solidity-Collection/icarus-protocol/defi-seeder/.tmp/dydx-protocol/perpetual/contracts/protocol/lib/SignedMath.sol",
        "file": "../../lib/SignedMath.sol",
        "id": 3236,
        "nodeType": "ImportDirective",
        "scope": 3608,
        "sourceUnit": 1071,
        "src": "875:54:28",
        "symbolAliases": [
          {
            "foreign": 3235,
            "local": null
          }
        ],
        "unitAlias": ""
      },
      {
        "baseContracts": [],
        "contractDependencies": [],
        "contractKind": "library",
        "documentation": "@title P1BalanceMath\n@author dYdX\n * @dev Library for manipulating P1Types.Balance structs.",
        "fullyImplemented": true,
        "id": 3607,
        "linearizedBaseContracts": [
          3607
        ],
        "name": "P1BalanceMath",
        "nodeType": "ContractDefinition",
        "nodes": [
          {
            "id": 3239,
            "libraryName": {
              "contractScope": null,
              "id": 3237,
              "name": "BaseMath",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 461,
              "src": "1075:8:28",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_BaseMath_$461",
                "typeString": "library BaseMath"
              }
            },
            "nodeType": "UsingForDirective",
            "src": "1069:27:28",
            "typeName": {
              "id": 3238,
              "name": "uint256",
              "nodeType": "ElementaryTypeName",
              "src": "1088:7:28",
              "typeDescriptions": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              }
            }
          },
          {
            "id": 3242,
            "libraryName": {
              "contractScope": null,
              "id": 3240,
              "name": "SafeCast",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 828,
              "src": "1107:8:28",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_SafeCast_$828",
                "typeString": "library SafeCast"
              }
            },
            "nodeType": "UsingForDirective",
            "src": "1101:27:28",
            "typeName": {
              "id": 3241,
              "name": "uint256",
              "nodeType": "ElementaryTypeName",
              "src": "1120:7:28",
              "typeDescriptions": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              }
            }
          },
          {
            "id": 3245,
            "libraryName": {
              "contractScope": null,
              "id": 3243,
              "name": "SafeMath",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 11412,
              "src": "1139:8:28",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_SafeMath_$11412",
                "typeString": "library SafeMath"
              }
            },
            "nodeType": "UsingForDirective",
            "src": "1133:27:28",
            "typeName": {
              "id": 3244,
              "name": "uint256",
              "nodeType": "ElementaryTypeName",
              "src": "1152:7:28",
              "typeDescriptions": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              }
            }
          },
          {
            "id": 3248,
            "libraryName": {
              "contractScope": null,
              "id": 3246,
              "name": "SignedMath",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 1070,
              "src": "1171:10:28",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_SignedMath_$1070",
                "typeString": "library SignedMath"
              }
            },
            "nodeType": "UsingForDirective",
            "src": "1165:36:28",
            "typeName": {
              "contractScope": null,
              "id": 3247,
              "name": "SignedMath.Int",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 841,
              "src": "1186:14:28",
              "typeDescriptions": {
                "typeIdentifier": "t_struct$_Int_$841_storage_ptr",
                "typeString": "struct SignedMath.Int"
              }
            }
          },
          {
            "id": 3251,
            "libraryName": {
              "contractScope": null,
              "id": 3249,
              "name": "P1BalanceMath",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 3607,
              "src": "1212:13:28",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_P1BalanceMath_$3607",
                "typeString": "library P1BalanceMath"
              }
            },
            "nodeType": "UsingForDirective",
            "src": "1206:40:28",
            "typeName": {
              "contractScope": null,
              "id": 3250,
              "name": "P1Types.Balance",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 3672,
              "src": "1230:15:28",
              "typeDescriptions": {
                "typeIdentifier": "t_struct$_Balance_$3672_storage_ptr",
                "typeString": "struct P1Types.Balance"
              }
            }
          },
          {
            "constant": true,
            "id": 3259,
            "name": "FLAG_MARGIN_IS_POSITIVE",
            "nodeType": "VariableDeclaration",
            "scope": 3607,
            "src": "1296:64:28",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_uint256",
              "typeString": "uint256"
            },
            "typeName": {
              "id": 3252,
              "name": "uint256",
              "nodeType": "ElementaryTypeName",
              "src": "1296:7:28",
              "typeDescriptions": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              }
            },
            "value": {
              "argumentTypes": null,
              "commonType": {
                "typeIdentifier": "t_rational_452312848583266388373324160190187140051835877600158453279131187530910662656_by_1",
                "typeString": "int_const 4523...(67 digits omitted)...2656"
              },
              "id": 3258,
              "isConstant": false,
              "isLValue": false,
              "isPure": true,
              "lValueRequested": false,
              "leftExpression": {
                "argumentTypes": null,
                "hexValue": "31",
                "id": 3253,
                "isConstant": false,
                "isLValue": false,
                "isPure": true,
                "kind": "number",
                "lValueRequested": false,
                "nodeType": "Literal",
                "src": "1347:1:28",
                "subdenomination": null,
                "typeDescriptions": {
                  "typeIdentifier": "t_rational_1_by_1",
                  "typeString": "int_const 1"
                },
                "value": "1"
              },
              "nodeType": "BinaryOperation",
              "operator": "<<",
              "rightExpression": {
                "argumentTypes": null,
                "components": [
                  {
                    "argumentTypes": null,
                    "commonType": {
                      "typeIdentifier": "t_rational_248_by_1",
                      "typeString": "int_const 248"
                    },
                    "id": 3256,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": true,
                    "lValueRequested": false,
                    "leftExpression": {
                      "argumentTypes": null,
                      "hexValue": "38",
                      "id": 3254,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "number",
                      "lValueRequested": false,
                      "nodeType": "Literal",
                      "src": "1353:1:28",
                      "subdenomination": null,
                      "typeDescriptions": {
                        "typeIdentifier": "t_rational_8_by_1",
                        "typeString": "int_const 8"
                      },
                      "value": "8"
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "*",
                    "rightExpression": {
                      "argumentTypes": null,
                      "hexValue": "3331",
                      "id": 3255,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "number",
                      "lValueRequested": false,
                      "nodeType": "Literal",
                      "src": "1357:2:28",
                      "subdenomination": null,
                      "typeDescriptions": {
                        "typeIdentifier": "t_rational_31_by_1",
                        "typeString": "int_const 31"
                      },
                      "value": "31"
                    },
                    "src": "1353:6:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_rational_248_by_1",
                      "typeString": "int_const 248"
                    }
                  }
                ],
                "id": 3257,
                "isConstant": false,
                "isInlineArray": false,
                "isLValue": false,
                "isPure": true,
                "lValueRequested": false,
                "nodeType": "TupleExpression",
                "src": "1352:8:28",
                "typeDescriptions": {
                  "typeIdentifier": "t_rational_248_by_1",
                  "typeString": "int_const 248"
                }
              },
              "src": "1347:13:28",
              "typeDescriptions": {
                "typeIdentifier": "t_rational_452312848583266388373324160190187140051835877600158453279131187530910662656_by_1",
                "typeString": "int_const 4523...(67 digits omitted)...2656"
              }
            },
            "visibility": "private"
          },
          {
            "constant": true,
            "id": 3267,
            "name": "FLAG_POSITION_IS_POSITIVE",
            "nodeType": "VariableDeclaration",
            "scope": 3607,
            "src": "1366:66:28",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_uint256",
              "typeString": "uint256"
            },
            "typeName": {
              "id": 3260,
              "name": "uint256",
              "nodeType": "ElementaryTypeName",
              "src": "1366:7:28",
              "typeDescriptions": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              }
            },
            "value": {
              "argumentTypes": null,
              "commonType": {
                "typeIdentifier": "t_rational_1329227995784915872903807060280344576_by_1",
                "typeString": "int_const 1329...(29 digits omitted)...4576"
              },
              "id": 3266,
              "isConstant": false,
              "isLValue": false,
              "isPure": true,
              "lValueRequested": false,
              "leftExpression": {
                "argumentTypes": null,
                "hexValue": "31",
                "id": 3261,
                "isConstant": false,
                "isLValue": false,
                "isPure": true,
                "kind": "number",
                "lValueRequested": false,
                "nodeType": "Literal",
                "src": "1419:1:28",
                "subdenomination": null,
                "typeDescriptions": {
                  "typeIdentifier": "t_rational_1_by_1",
                  "typeString": "int_const 1"
                },
                "value": "1"
              },
              "nodeType": "BinaryOperation",
              "operator": "<<",
              "rightExpression": {
                "argumentTypes": null,
                "components": [
                  {
                    "argumentTypes": null,
                    "commonType": {
                      "typeIdentifier": "t_rational_120_by_1",
                      "typeString": "int_const 120"
                    },
                    "id": 3264,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": true,
                    "lValueRequested": false,
                    "leftExpression": {
                      "argumentTypes": null,
                      "hexValue": "38",
                      "id": 3262,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "number",
                      "lValueRequested": false,
                      "nodeType": "Literal",
                      "src": "1425:1:28",
                      "subdenomination": null,
                      "typeDescriptions": {
                        "typeIdentifier": "t_rational_8_by_1",
                        "typeString": "int_const 8"
                      },
                      "value": "8"
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "*",
                    "rightExpression": {
                      "argumentTypes": null,
                      "hexValue": "3135",
                      "id": 3263,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "number",
                      "lValueRequested": false,
                      "nodeType": "Literal",
                      "src": "1429:2:28",
                      "subdenomination": null,
                      "typeDescriptions": {
                        "typeIdentifier": "t_rational_15_by_1",
                        "typeString": "int_const 15"
                      },
                      "value": "15"
                    },
                    "src": "1425:6:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_rational_120_by_1",
                      "typeString": "int_const 120"
                    }
                  }
                ],
                "id": 3265,
                "isConstant": false,
                "isInlineArray": false,
                "isLValue": false,
                "isPure": true,
                "lValueRequested": false,
                "nodeType": "TupleExpression",
                "src": "1424:8:28",
                "typeDescriptions": {
                  "typeIdentifier": "t_rational_120_by_1",
                  "typeString": "int_const 120"
                }
              },
              "src": "1419:13:28",
              "typeDescriptions": {
                "typeIdentifier": "t_rational_1329227995784915872903807060280344576_by_1",
                "typeString": "int_const 1329...(29 digits omitted)...4576"
              }
            },
            "visibility": "private"
          },
          {
            "body": {
              "id": 3286,
              "nodeType": "Block",
              "src": "1683:243:28",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "expression": {
                          "argumentTypes": null,
                          "id": 3276,
                          "name": "balance",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3269,
                          "src": "1748:7:28",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                            "typeString": "struct P1Types.Balance memory"
                          }
                        },
                        "id": 3277,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "marginIsPositive",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 3665,
                        "src": "1748:24:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "expression": {
                          "argumentTypes": null,
                          "id": 3278,
                          "name": "balance",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3269,
                          "src": "1806:7:28",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                            "typeString": "struct P1Types.Balance memory"
                          }
                        },
                        "id": 3279,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "positionIsPositive",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 3667,
                        "src": "1806:26:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "expression": {
                          "argumentTypes": null,
                          "id": 3280,
                          "name": "balance",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3269,
                          "src": "1854:7:28",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                            "typeString": "struct P1Types.Balance memory"
                          }
                        },
                        "id": 3281,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "margin",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 3669,
                        "src": "1854:14:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint120",
                          "typeString": "uint120"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "expression": {
                          "argumentTypes": null,
                          "id": 3282,
                          "name": "balance",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3269,
                          "src": "1892:7:28",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                            "typeString": "struct P1Types.Balance memory"
                          }
                        },
                        "id": 3283,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "position",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 3671,
                        "src": "1892:16:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint120",
                          "typeString": "uint120"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_uint120",
                          "typeString": "uint120"
                        },
                        {
                          "typeIdentifier": "t_uint120",
                          "typeString": "uint120"
                        }
                      ],
                      "expression": {
                        "argumentTypes": null,
                        "id": 3274,
                        "name": "P1Types",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3689,
                        "src": "1700:7:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_contract$_P1Types_$3689_$",
                          "typeString": "type(library P1Types)"
                        }
                      },
                      "id": 3275,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "Balance",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 3672,
                      "src": "1700:15:28",
                      "typeDescriptions": {
                        "typeIdentifier": "t_type$_t_struct$_Balance_$3672_storage_ptr_$",
                        "typeString": "type(struct P1Types.Balance storage pointer)"
                      }
                    },
                    "id": 3284,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "structConstructorCall",
                    "lValueRequested": false,
                    "names": [
                      "marginIsPositive",
                      "positionIsPositive",
                      "margin",
                      "position"
                    ],
                    "nodeType": "FunctionCall",
                    "src": "1700:219:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Balance_$3672_memory",
                      "typeString": "struct P1Types.Balance memory"
                    }
                  },
                  "functionReturnParameters": 3273,
                  "id": 3285,
                  "nodeType": "Return",
                  "src": "1693:226:28"
                }
              ]
            },
            "documentation": "@dev Create a copy of the balance struct.",
            "id": 3287,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "copy",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 3270,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3269,
                  "name": "balance",
                  "nodeType": "VariableDeclaration",
                  "scope": 3287,
                  "src": "1571:30:28",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                    "typeString": "struct P1Types.Balance"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 3268,
                    "name": "P1Types.Balance",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 3672,
                    "src": "1571:15:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Balance_$3672_storage_ptr",
                      "typeString": "struct P1Types.Balance"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "1561:46:28"
            },
            "returnParameters": {
              "id": 3273,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3272,
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "scope": 3287,
                  "src": "1655:22:28",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                    "typeString": "struct P1Types.Balance"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 3271,
                    "name": "P1Types.Balance",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 3672,
                    "src": "1655:15:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Balance_$3672_storage_ptr",
                      "typeString": "struct P1Types.Balance"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "1654:24:28"
            },
            "scope": 3607,
            "src": "1548:378:28",
            "stateMutability": "pure",
            "superFunction": null,
            "visibility": "internal"
          },
          {
            "body": {
              "id": 3315,
              "nodeType": "Block",
              "src": "2124:163:28",
              "statements": [
                {
                  "assignments": [
                    3297
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3297,
                      "name": "signedMargin",
                      "nodeType": "VariableDeclaration",
                      "scope": 3315,
                      "src": "2134:34:28",
                      "stateVariable": false,
                      "storageLocation": "memory",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                        "typeString": "struct SignedMath.Int"
                      },
                      "typeName": {
                        "contractScope": null,
                        "id": 3296,
                        "name": "SignedMath.Int",
                        "nodeType": "UserDefinedTypeName",
                        "referencedDeclaration": 841,
                        "src": "2134:14:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Int_$841_storage_ptr",
                          "typeString": "struct SignedMath.Int"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 3301,
                  "initialValue": {
                    "argumentTypes": null,
                    "arguments": [],
                    "expression": {
                      "argumentTypes": [],
                      "expression": {
                        "argumentTypes": null,
                        "id": 3298,
                        "name": "balance",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3289,
                        "src": "2171:7:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                          "typeString": "struct P1Types.Balance memory"
                        }
                      },
                      "id": 3299,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "getMargin",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 3542,
                      "src": "2171:17:28",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_pure$_t_struct$_Balance_$3672_memory_ptr_$returns$_t_struct$_Int_$841_memory_ptr_$bound_to$_t_struct$_Balance_$3672_memory_ptr_$",
                        "typeString": "function (struct P1Types.Balance memory) pure returns (struct SignedMath.Int memory)"
                      }
                    },
                    "id": 3300,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2171:19:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                      "typeString": "struct SignedMath.Int memory"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "2134:56:28"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 3307,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "id": 3302,
                      "name": "signedMargin",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3297,
                      "src": "2200:12:28",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                        "typeString": "struct SignedMath.Int memory"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "arguments": [
                        {
                          "argumentTypes": null,
                          "id": 3305,
                          "name": "amount",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3291,
                          "src": "2232:6:28",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        ],
                        "expression": {
                          "argumentTypes": null,
                          "id": 3303,
                          "name": "signedMargin",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3297,
                          "src": "2215:12:28",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                            "typeString": "struct SignedMath.Int memory"
                          }
                        },
                        "id": 3304,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "add",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 888,
                        "src": "2215:16:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_internal_pure$_t_struct$_Int_$841_memory_ptr_$_t_uint256_$returns$_t_struct$_Int_$841_memory_ptr_$bound_to$_t_struct$_Int_$841_memory_ptr_$",
                          "typeString": "function (struct SignedMath.Int memory,uint256) pure returns (struct SignedMath.Int memory)"
                        }
                      },
                      "id": 3306,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "2215:24:28",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                        "typeString": "struct SignedMath.Int memory"
                      }
                    },
                    "src": "2200:39:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                      "typeString": "struct SignedMath.Int memory"
                    }
                  },
                  "id": 3308,
                  "nodeType": "ExpressionStatement",
                  "src": "2200:39:28"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "id": 3312,
                        "name": "signedMargin",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3297,
                        "src": "2267:12:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                          "typeString": "struct SignedMath.Int memory"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                          "typeString": "struct SignedMath.Int memory"
                        }
                      ],
                      "expression": {
                        "argumentTypes": null,
                        "id": 3309,
                        "name": "balance",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3289,
                        "src": "2249:7:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                          "typeString": "struct P1Types.Balance memory"
                        }
                      },
                      "id": 3311,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "setMargin",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 3582,
                      "src": "2249:17:28",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_pure$_t_struct$_Balance_$3672_memory_ptr_$_t_struct$_Int_$841_memory_ptr_$returns$__$bound_to$_t_struct$_Balance_$3672_memory_ptr_$",
                        "typeString": "function (struct P1Types.Balance memory,struct SignedMath.Int memory) pure"
                      }
                    },
                    "id": 3313,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2249:31:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3314,
                  "nodeType": "ExpressionStatement",
                  "src": "2249:31:28"
                }
              ]
            },
            "documentation": "@dev In-place add amount to balance.margin.",
            "id": 3316,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "addToMargin",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 3292,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3289,
                  "name": "balance",
                  "nodeType": "VariableDeclaration",
                  "scope": 3316,
                  "src": "2029:30:28",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                    "typeString": "struct P1Types.Balance"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 3288,
                    "name": "P1Types.Balance",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 3672,
                    "src": "2029:15:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Balance_$3672_storage_ptr",
                      "typeString": "struct P1Types.Balance"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3291,
                  "name": "amount",
                  "nodeType": "VariableDeclaration",
                  "scope": 3316,
                  "src": "2069:14:28",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3290,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2069:7:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "2019:70:28"
            },
            "returnParameters": {
              "id": 3293,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "2124:0:28"
            },
            "scope": 3607,
            "src": "1999:288:28",
            "stateMutability": "pure",
            "superFunction": null,
            "visibility": "internal"
          },
          {
            "body": {
              "id": 3344,
              "nodeType": "Block",
              "src": "2494:163:28",
              "statements": [
                {
                  "assignments": [
                    3326
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3326,
                      "name": "signedMargin",
                      "nodeType": "VariableDeclaration",
                      "scope": 3344,
                      "src": "2504:34:28",
                      "stateVariable": false,
                      "storageLocation": "memory",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                        "typeString": "struct SignedMath.Int"
                      },
                      "typeName": {
                        "contractScope": null,
                        "id": 3325,
                        "name": "SignedMath.Int",
                        "nodeType": "UserDefinedTypeName",
                        "referencedDeclaration": 841,
                        "src": "2504:14:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Int_$841_storage_ptr",
                          "typeString": "struct SignedMath.Int"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 3330,
                  "initialValue": {
                    "argumentTypes": null,
                    "arguments": [],
                    "expression": {
                      "argumentTypes": [],
                      "expression": {
                        "argumentTypes": null,
                        "id": 3327,
                        "name": "balance",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3318,
                        "src": "2541:7:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                          "typeString": "struct P1Types.Balance memory"
                        }
                      },
                      "id": 3328,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "getMargin",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 3542,
                      "src": "2541:17:28",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_pure$_t_struct$_Balance_$3672_memory_ptr_$returns$_t_struct$_Int_$841_memory_ptr_$bound_to$_t_struct$_Balance_$3672_memory_ptr_$",
                        "typeString": "function (struct P1Types.Balance memory) pure returns (struct SignedMath.Int memory)"
                      }
                    },
                    "id": 3329,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2541:19:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                      "typeString": "struct SignedMath.Int memory"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "2504:56:28"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 3336,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "id": 3331,
                      "name": "signedMargin",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3326,
                      "src": "2570:12:28",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                        "typeString": "struct SignedMath.Int memory"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "arguments": [
                        {
                          "argumentTypes": null,
                          "id": 3334,
                          "name": "amount",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3320,
                          "src": "2602:6:28",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        ],
                        "expression": {
                          "argumentTypes": null,
                          "id": 3332,
                          "name": "signedMargin",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3326,
                          "src": "2585:12:28",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                            "typeString": "struct SignedMath.Int memory"
                          }
                        },
                        "id": 3333,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "sub",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 936,
                        "src": "2585:16:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_internal_pure$_t_struct$_Int_$841_memory_ptr_$_t_uint256_$returns$_t_struct$_Int_$841_memory_ptr_$bound_to$_t_struct$_Int_$841_memory_ptr_$",
                          "typeString": "function (struct SignedMath.Int memory,uint256) pure returns (struct SignedMath.Int memory)"
                        }
                      },
                      "id": 3335,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "2585:24:28",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                        "typeString": "struct SignedMath.Int memory"
                      }
                    },
                    "src": "2570:39:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                      "typeString": "struct SignedMath.Int memory"
                    }
                  },
                  "id": 3337,
                  "nodeType": "ExpressionStatement",
                  "src": "2570:39:28"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "id": 3341,
                        "name": "signedMargin",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3326,
                        "src": "2637:12:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                          "typeString": "struct SignedMath.Int memory"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                          "typeString": "struct SignedMath.Int memory"
                        }
                      ],
                      "expression": {
                        "argumentTypes": null,
                        "id": 3338,
                        "name": "balance",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3318,
                        "src": "2619:7:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                          "typeString": "struct P1Types.Balance memory"
                        }
                      },
                      "id": 3340,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "setMargin",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 3582,
                      "src": "2619:17:28",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_pure$_t_struct$_Balance_$3672_memory_ptr_$_t_struct$_Int_$841_memory_ptr_$returns$__$bound_to$_t_struct$_Balance_$3672_memory_ptr_$",
                        "typeString": "function (struct P1Types.Balance memory,struct SignedMath.Int memory) pure"
                      }
                    },
                    "id": 3342,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2619:31:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3343,
                  "nodeType": "ExpressionStatement",
                  "src": "2619:31:28"
                }
              ]
            },
            "documentation": "@dev In-place subtract amount from balance.margin.",
            "id": 3345,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "subFromMargin",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 3321,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3318,
                  "name": "balance",
                  "nodeType": "VariableDeclaration",
                  "scope": 3345,
                  "src": "2399:30:28",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                    "typeString": "struct P1Types.Balance"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 3317,
                    "name": "P1Types.Balance",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 3672,
                    "src": "2399:15:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Balance_$3672_storage_ptr",
                      "typeString": "struct P1Types.Balance"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3320,
                  "name": "amount",
                  "nodeType": "VariableDeclaration",
                  "scope": 3345,
                  "src": "2439:14:28",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3319,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2439:7:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "2389:70:28"
            },
            "returnParameters": {
              "id": 3322,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "2494:0:28"
            },
            "scope": 3607,
            "src": "2367:290:28",
            "stateMutability": "pure",
            "superFunction": null,
            "visibility": "internal"
          },
          {
            "body": {
              "id": 3373,
              "nodeType": "Block",
              "src": "2859:175:28",
              "statements": [
                {
                  "assignments": [
                    3355
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3355,
                      "name": "signedPosition",
                      "nodeType": "VariableDeclaration",
                      "scope": 3373,
                      "src": "2869:36:28",
                      "stateVariable": false,
                      "storageLocation": "memory",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                        "typeString": "struct SignedMath.Int"
                      },
                      "typeName": {
                        "contractScope": null,
                        "id": 3354,
                        "name": "SignedMath.Int",
                        "nodeType": "UserDefinedTypeName",
                        "referencedDeclaration": 841,
                        "src": "2869:14:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Int_$841_storage_ptr",
                          "typeString": "struct SignedMath.Int"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 3359,
                  "initialValue": {
                    "argumentTypes": null,
                    "arguments": [],
                    "expression": {
                      "argumentTypes": [],
                      "expression": {
                        "argumentTypes": null,
                        "id": 3356,
                        "name": "balance",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3347,
                        "src": "2908:7:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                          "typeString": "struct P1Types.Balance memory"
                        }
                      },
                      "id": 3357,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "getPosition",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 3558,
                      "src": "2908:19:28",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_pure$_t_struct$_Balance_$3672_memory_ptr_$returns$_t_struct$_Int_$841_memory_ptr_$bound_to$_t_struct$_Balance_$3672_memory_ptr_$",
                        "typeString": "function (struct P1Types.Balance memory) pure returns (struct SignedMath.Int memory)"
                      }
                    },
                    "id": 3358,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2908:21:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                      "typeString": "struct SignedMath.Int memory"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "2869:60:28"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 3365,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "id": 3360,
                      "name": "signedPosition",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3355,
                      "src": "2939:14:28",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                        "typeString": "struct SignedMath.Int memory"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "arguments": [
                        {
                          "argumentTypes": null,
                          "id": 3363,
                          "name": "amount",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3349,
                          "src": "2975:6:28",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        ],
                        "expression": {
                          "argumentTypes": null,
                          "id": 3361,
                          "name": "signedPosition",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3355,
                          "src": "2956:14:28",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                            "typeString": "struct SignedMath.Int memory"
                          }
                        },
                        "id": 3362,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "add",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 888,
                        "src": "2956:18:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_internal_pure$_t_struct$_Int_$841_memory_ptr_$_t_uint256_$returns$_t_struct$_Int_$841_memory_ptr_$bound_to$_t_struct$_Int_$841_memory_ptr_$",
                          "typeString": "function (struct SignedMath.Int memory,uint256) pure returns (struct SignedMath.Int memory)"
                        }
                      },
                      "id": 3364,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "2956:26:28",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                        "typeString": "struct SignedMath.Int memory"
                      }
                    },
                    "src": "2939:43:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                      "typeString": "struct SignedMath.Int memory"
                    }
                  },
                  "id": 3366,
                  "nodeType": "ExpressionStatement",
                  "src": "2939:43:28"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "id": 3370,
                        "name": "signedPosition",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3355,
                        "src": "3012:14:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                          "typeString": "struct SignedMath.Int memory"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                          "typeString": "struct SignedMath.Int memory"
                        }
                      ],
                      "expression": {
                        "argumentTypes": null,
                        "id": 3367,
                        "name": "balance",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3347,
                        "src": "2992:7:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                          "typeString": "struct P1Types.Balance memory"
                        }
                      },
                      "id": 3369,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "setPosition",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 3606,
                      "src": "2992:19:28",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_pure$_t_struct$_Balance_$3672_memory_ptr_$_t_struct$_Int_$841_memory_ptr_$returns$__$bound_to$_t_struct$_Balance_$3672_memory_ptr_$",
                        "typeString": "function (struct P1Types.Balance memory,struct SignedMath.Int memory) pure"
                      }
                    },
                    "id": 3371,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2992:35:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3372,
                  "nodeType": "ExpressionStatement",
                  "src": "2992:35:28"
                }
              ]
            },
            "documentation": "@dev In-place add amount to balance.position.",
            "id": 3374,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "addToPosition",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 3350,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3347,
                  "name": "balance",
                  "nodeType": "VariableDeclaration",
                  "scope": 3374,
                  "src": "2764:30:28",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                    "typeString": "struct P1Types.Balance"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 3346,
                    "name": "P1Types.Balance",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 3672,
                    "src": "2764:15:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Balance_$3672_storage_ptr",
                      "typeString": "struct P1Types.Balance"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3349,
                  "name": "amount",
                  "nodeType": "VariableDeclaration",
                  "scope": 3374,
                  "src": "2804:14:28",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3348,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2804:7:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "2754:70:28"
            },
            "returnParameters": {
              "id": 3351,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "2859:0:28"
            },
            "scope": 3607,
            "src": "2732:302:28",
            "stateMutability": "pure",
            "superFunction": null,
            "visibility": "internal"
          },
          {
            "body": {
              "id": 3402,
              "nodeType": "Block",
              "src": "3245:175:28",
              "statements": [
                {
                  "assignments": [
                    3384
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3384,
                      "name": "signedPosition",
                      "nodeType": "VariableDeclaration",
                      "scope": 3402,
                      "src": "3255:36:28",
                      "stateVariable": false,
                      "storageLocation": "memory",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                        "typeString": "struct SignedMath.Int"
                      },
                      "typeName": {
                        "contractScope": null,
                        "id": 3383,
                        "name": "SignedMath.Int",
                        "nodeType": "UserDefinedTypeName",
                        "referencedDeclaration": 841,
                        "src": "3255:14:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Int_$841_storage_ptr",
                          "typeString": "struct SignedMath.Int"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 3388,
                  "initialValue": {
                    "argumentTypes": null,
                    "arguments": [],
                    "expression": {
                      "argumentTypes": [],
                      "expression": {
                        "argumentTypes": null,
                        "id": 3385,
                        "name": "balance",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3376,
                        "src": "3294:7:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                          "typeString": "struct P1Types.Balance memory"
                        }
                      },
                      "id": 3386,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "getPosition",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 3558,
                      "src": "3294:19:28",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_pure$_t_struct$_Balance_$3672_memory_ptr_$returns$_t_struct$_Int_$841_memory_ptr_$bound_to$_t_struct$_Balance_$3672_memory_ptr_$",
                        "typeString": "function (struct P1Types.Balance memory) pure returns (struct SignedMath.Int memory)"
                      }
                    },
                    "id": 3387,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "3294:21:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                      "typeString": "struct SignedMath.Int memory"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "3255:60:28"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 3394,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "id": 3389,
                      "name": "signedPosition",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3384,
                      "src": "3325:14:28",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                        "typeString": "struct SignedMath.Int memory"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "arguments": [
                        {
                          "argumentTypes": null,
                          "id": 3392,
                          "name": "amount",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3378,
                          "src": "3361:6:28",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        ],
                        "expression": {
                          "argumentTypes": null,
                          "id": 3390,
                          "name": "signedPosition",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3384,
                          "src": "3342:14:28",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                            "typeString": "struct SignedMath.Int memory"
                          }
                        },
                        "id": 3391,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "sub",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 936,
                        "src": "3342:18:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_internal_pure$_t_struct$_Int_$841_memory_ptr_$_t_uint256_$returns$_t_struct$_Int_$841_memory_ptr_$bound_to$_t_struct$_Int_$841_memory_ptr_$",
                          "typeString": "function (struct SignedMath.Int memory,uint256) pure returns (struct SignedMath.Int memory)"
                        }
                      },
                      "id": 3393,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "3342:26:28",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                        "typeString": "struct SignedMath.Int memory"
                      }
                    },
                    "src": "3325:43:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                      "typeString": "struct SignedMath.Int memory"
                    }
                  },
                  "id": 3395,
                  "nodeType": "ExpressionStatement",
                  "src": "3325:43:28"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "id": 3399,
                        "name": "signedPosition",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3384,
                        "src": "3398:14:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                          "typeString": "struct SignedMath.Int memory"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                          "typeString": "struct SignedMath.Int memory"
                        }
                      ],
                      "expression": {
                        "argumentTypes": null,
                        "id": 3396,
                        "name": "balance",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3376,
                        "src": "3378:7:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                          "typeString": "struct P1Types.Balance memory"
                        }
                      },
                      "id": 3398,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "setPosition",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 3606,
                      "src": "3378:19:28",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_pure$_t_struct$_Balance_$3672_memory_ptr_$_t_struct$_Int_$841_memory_ptr_$returns$__$bound_to$_t_struct$_Balance_$3672_memory_ptr_$",
                        "typeString": "function (struct P1Types.Balance memory,struct SignedMath.Int memory) pure"
                      }
                    },
                    "id": 3400,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "3378:35:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3401,
                  "nodeType": "ExpressionStatement",
                  "src": "3378:35:28"
                }
              ]
            },
            "documentation": "@dev In-place subtract amount from balance.position.",
            "id": 3403,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "subFromPosition",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 3379,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3376,
                  "name": "balance",
                  "nodeType": "VariableDeclaration",
                  "scope": 3403,
                  "src": "3150:30:28",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                    "typeString": "struct P1Types.Balance"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 3375,
                    "name": "P1Types.Balance",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 3672,
                    "src": "3150:15:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Balance_$3672_storage_ptr",
                      "typeString": "struct P1Types.Balance"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3378,
                  "name": "amount",
                  "nodeType": "VariableDeclaration",
                  "scope": 3403,
                  "src": "3190:14:28",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3377,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "3190:7:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "3140:70:28"
            },
            "returnParameters": {
              "id": 3380,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "3245:0:28"
            },
            "scope": 3607,
            "src": "3116:304:28",
            "stateMutability": "pure",
            "superFunction": null,
            "visibility": "internal"
          },
          {
            "body": {
              "id": 3484,
              "nodeType": "Block",
              "src": "3893:669:28",
              "statements": [
                {
                  "assignments": [
                    3415
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3415,
                      "name": "positiveValue",
                      "nodeType": "VariableDeclaration",
                      "scope": 3484,
                      "src": "3903:21:28",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 3414,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "3903:7:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 3417,
                  "initialValue": {
                    "argumentTypes": null,
                    "hexValue": "30",
                    "id": 3416,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": true,
                    "kind": "number",
                    "lValueRequested": false,
                    "nodeType": "Literal",
                    "src": "3927:1:28",
                    "subdenomination": null,
                    "typeDescriptions": {
                      "typeIdentifier": "t_rational_0_by_1",
                      "typeString": "int_const 0"
                    },
                    "value": "0"
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "3903:25:28"
                },
                {
                  "assignments": [
                    3419
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3419,
                      "name": "negativeValue",
                      "nodeType": "VariableDeclaration",
                      "scope": 3484,
                      "src": "3938:21:28",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 3418,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "3938:7:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 3421,
                  "initialValue": {
                    "argumentTypes": null,
                    "hexValue": "30",
                    "id": 3420,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": true,
                    "kind": "number",
                    "lValueRequested": false,
                    "nodeType": "Literal",
                    "src": "3962:1:28",
                    "subdenomination": null,
                    "typeDescriptions": {
                      "typeIdentifier": "t_rational_0_by_1",
                      "typeString": "int_const 0"
                    },
                    "value": "0"
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "3938:25:28"
                },
                {
                  "condition": {
                    "argumentTypes": null,
                    "expression": {
                      "argumentTypes": null,
                      "id": 3422,
                      "name": "balance",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3405,
                      "src": "4009:7:28",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                        "typeString": "struct P1Types.Balance memory"
                      }
                    },
                    "id": 3423,
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "memberName": "marginIsPositive",
                    "nodeType": "MemberAccess",
                    "referencedDeclaration": 3665,
                    "src": "4009:24:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "falseBody": {
                    "id": 3449,
                    "nodeType": "Block",
                    "src": "4126:85:28",
                    "statements": [
                      {
                        "expression": {
                          "argumentTypes": null,
                          "id": 3447,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftHandSide": {
                            "argumentTypes": null,
                            "id": 3437,
                            "name": "negativeValue",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3419,
                            "src": "4140:13:28",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "Assignment",
                          "operator": "=",
                          "rightHandSide": {
                            "argumentTypes": null,
                            "arguments": [
                              {
                                "argumentTypes": null,
                                "arguments": [],
                                "expression": {
                                  "argumentTypes": [],
                                  "expression": {
                                    "argumentTypes": null,
                                    "id": 3443,
                                    "name": "BaseMath",
                                    "nodeType": "Identifier",
                                    "overloadedDeclarations": [],
                                    "referencedDeclaration": 461,
                                    "src": "4184:8:28",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_type$_t_contract$_BaseMath_$461_$",
                                      "typeString": "type(library BaseMath)"
                                    }
                                  },
                                  "id": 3444,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "memberName": "base",
                                  "nodeType": "MemberAccess",
                                  "referencedDeclaration": 358,
                                  "src": "4184:13:28",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_function_internal_pure$__$returns$_t_uint256_$",
                                    "typeString": "function () pure returns (uint256)"
                                  }
                                },
                                "id": 3445,
                                "isConstant": false,
                                "isLValue": false,
                                "isPure": false,
                                "kind": "functionCall",
                                "lValueRequested": false,
                                "names": [],
                                "nodeType": "FunctionCall",
                                "src": "4184:15:28",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              }
                            ],
                            "expression": {
                              "argumentTypes": [
                                {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              ],
                              "expression": {
                                "argumentTypes": null,
                                "arguments": [
                                  {
                                    "argumentTypes": null,
                                    "expression": {
                                      "argumentTypes": null,
                                      "id": 3439,
                                      "name": "balance",
                                      "nodeType": "Identifier",
                                      "overloadedDeclarations": [],
                                      "referencedDeclaration": 3405,
                                      "src": "4164:7:28",
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                                        "typeString": "struct P1Types.Balance memory"
                                      }
                                    },
                                    "id": 3440,
                                    "isConstant": false,
                                    "isLValue": true,
                                    "isPure": false,
                                    "lValueRequested": false,
                                    "memberName": "margin",
                                    "nodeType": "MemberAccess",
                                    "referencedDeclaration": 3669,
                                    "src": "4164:14:28",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_uint120",
                                      "typeString": "uint120"
                                    }
                                  }
                                ],
                                "expression": {
                                  "argumentTypes": [
                                    {
                                      "typeIdentifier": "t_uint120",
                                      "typeString": "uint120"
                                    }
                                  ],
                                  "id": 3438,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": true,
                                  "lValueRequested": false,
                                  "nodeType": "ElementaryTypeNameExpression",
                                  "src": "4156:7:28",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_type$_t_uint256_$",
                                    "typeString": "type(uint256)"
                                  },
                                  "typeName": "uint256"
                                },
                                "id": 3441,
                                "isConstant": false,
                                "isLValue": false,
                                "isPure": false,
                                "kind": "typeConversion",
                                "lValueRequested": false,
                                "names": [],
                                "nodeType": "FunctionCall",
                                "src": "4156:23:28",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              },
                              "id": 3442,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "memberName": "mul",
                              "nodeType": "MemberAccess",
                              "referencedDeclaration": 11329,
                              "src": "4156:27:28",
                              "typeDescriptions": {
                                "typeIdentifier": "t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",
                                "typeString": "function (uint256,uint256) pure returns (uint256)"
                              }
                            },
                            "id": 3446,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "kind": "functionCall",
                            "lValueRequested": false,
                            "names": [],
                            "nodeType": "FunctionCall",
                            "src": "4156:44:28",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "4140:60:28",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "id": 3448,
                        "nodeType": "ExpressionStatement",
                        "src": "4140:60:28"
                      }
                    ]
                  },
                  "id": 3450,
                  "nodeType": "IfStatement",
                  "src": "4005:206:28",
                  "trueBody": {
                    "id": 3436,
                    "nodeType": "Block",
                    "src": "4035:85:28",
                    "statements": [
                      {
                        "expression": {
                          "argumentTypes": null,
                          "id": 3434,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftHandSide": {
                            "argumentTypes": null,
                            "id": 3424,
                            "name": "positiveValue",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3415,
                            "src": "4049:13:28",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "Assignment",
                          "operator": "=",
                          "rightHandSide": {
                            "argumentTypes": null,
                            "arguments": [
                              {
                                "argumentTypes": null,
                                "arguments": [],
                                "expression": {
                                  "argumentTypes": [],
                                  "expression": {
                                    "argumentTypes": null,
                                    "id": 3430,
                                    "name": "BaseMath",
                                    "nodeType": "Identifier",
                                    "overloadedDeclarations": [],
                                    "referencedDeclaration": 461,
                                    "src": "4093:8:28",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_type$_t_contract$_BaseMath_$461_$",
                                      "typeString": "type(library BaseMath)"
                                    }
                                  },
                                  "id": 3431,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "memberName": "base",
                                  "nodeType": "MemberAccess",
                                  "referencedDeclaration": 358,
                                  "src": "4093:13:28",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_function_internal_pure$__$returns$_t_uint256_$",
                                    "typeString": "function () pure returns (uint256)"
                                  }
                                },
                                "id": 3432,
                                "isConstant": false,
                                "isLValue": false,
                                "isPure": false,
                                "kind": "functionCall",
                                "lValueRequested": false,
                                "names": [],
                                "nodeType": "FunctionCall",
                                "src": "4093:15:28",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              }
                            ],
                            "expression": {
                              "argumentTypes": [
                                {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              ],
                              "expression": {
                                "argumentTypes": null,
                                "arguments": [
                                  {
                                    "argumentTypes": null,
                                    "expression": {
                                      "argumentTypes": null,
                                      "id": 3426,
                                      "name": "balance",
                                      "nodeType": "Identifier",
                                      "overloadedDeclarations": [],
                                      "referencedDeclaration": 3405,
                                      "src": "4073:7:28",
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                                        "typeString": "struct P1Types.Balance memory"
                                      }
                                    },
                                    "id": 3427,
                                    "isConstant": false,
                                    "isLValue": true,
                                    "isPure": false,
                                    "lValueRequested": false,
                                    "memberName": "margin",
                                    "nodeType": "MemberAccess",
                                    "referencedDeclaration": 3669,
                                    "src": "4073:14:28",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_uint120",
                                      "typeString": "uint120"
                                    }
                                  }
                                ],
                                "expression": {
                                  "argumentTypes": [
                                    {
                                      "typeIdentifier": "t_uint120",
                                      "typeString": "uint120"
                                    }
                                  ],
                                  "id": 3425,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": true,
                                  "lValueRequested": false,
                                  "nodeType": "ElementaryTypeNameExpression",
                                  "src": "4065:7:28",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_type$_t_uint256_$",
                                    "typeString": "type(uint256)"
                                  },
                                  "typeName": "uint256"
                                },
                                "id": 3428,
                                "isConstant": false,
                                "isLValue": false,
                                "isPure": false,
                                "kind": "typeConversion",
                                "lValueRequested": false,
                                "names": [],
                                "nodeType": "FunctionCall",
                                "src": "4065:23:28",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              },
                              "id": 3429,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "memberName": "mul",
                              "nodeType": "MemberAccess",
                              "referencedDeclaration": 11329,
                              "src": "4065:27:28",
                              "typeDescriptions": {
                                "typeIdentifier": "t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",
                                "typeString": "function (uint256,uint256) pure returns (uint256)"
                              }
                            },
                            "id": 3433,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "kind": "functionCall",
                            "lValueRequested": false,
                            "names": [],
                            "nodeType": "FunctionCall",
                            "src": "4065:44:28",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "4049:60:28",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "id": 3435,
                        "nodeType": "ExpressionStatement",
                        "src": "4049:60:28"
                      }
                    ]
                  }
                },
                {
                  "assignments": [
                    3452
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3452,
                      "name": "positionValue",
                      "nodeType": "VariableDeclaration",
                      "scope": 3484,
                      "src": "4254:21:28",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 3451,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "4254:7:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 3460,
                  "initialValue": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "id": 3458,
                        "name": "price",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3407,
                        "src": "4308:5:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "expression": {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "expression": {
                              "argumentTypes": null,
                              "id": 3454,
                              "name": "balance",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 3405,
                              "src": "4286:7:28",
                              "typeDescriptions": {
                                "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                                "typeString": "struct P1Types.Balance memory"
                              }
                            },
                            "id": 3455,
                            "isConstant": false,
                            "isLValue": true,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "position",
                            "nodeType": "MemberAccess",
                            "referencedDeclaration": 3671,
                            "src": "4286:16:28",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint120",
                              "typeString": "uint120"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_uint120",
                              "typeString": "uint120"
                            }
                          ],
                          "id": 3453,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "lValueRequested": false,
                          "nodeType": "ElementaryTypeNameExpression",
                          "src": "4278:7:28",
                          "typeDescriptions": {
                            "typeIdentifier": "t_type$_t_uint256_$",
                            "typeString": "type(uint256)"
                          },
                          "typeName": "uint256"
                        },
                        "id": 3456,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "typeConversion",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "4278:25:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "id": 3457,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "mul",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 11329,
                      "src": "4278:29:28",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",
                        "typeString": "function (uint256,uint256) pure returns (uint256)"
                      }
                    },
                    "id": 3459,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "4278:36:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "4254:60:28"
                },
                {
                  "condition": {
                    "argumentTypes": null,
                    "expression": {
                      "argumentTypes": null,
                      "id": 3461,
                      "name": "balance",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3405,
                      "src": "4328:7:28",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                        "typeString": "struct P1Types.Balance memory"
                      }
                    },
                    "id": 3462,
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "memberName": "positionIsPositive",
                    "nodeType": "MemberAccess",
                    "referencedDeclaration": 3667,
                    "src": "4328:26:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "falseBody": {
                    "id": 3478,
                    "nodeType": "Block",
                    "src": "4435:73:28",
                    "statements": [
                      {
                        "expression": {
                          "argumentTypes": null,
                          "id": 3476,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftHandSide": {
                            "argumentTypes": null,
                            "id": 3471,
                            "name": "negativeValue",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3419,
                            "src": "4449:13:28",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "Assignment",
                          "operator": "=",
                          "rightHandSide": {
                            "argumentTypes": null,
                            "arguments": [
                              {
                                "argumentTypes": null,
                                "id": 3474,
                                "name": "positionValue",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 3452,
                                "src": "4483:13:28",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              }
                            ],
                            "expression": {
                              "argumentTypes": [
                                {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              ],
                              "expression": {
                                "argumentTypes": null,
                                "id": 3472,
                                "name": "negativeValue",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 3419,
                                "src": "4465:13:28",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              },
                              "id": 3473,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "memberName": "add",
                              "nodeType": "MemberAccess",
                              "referencedDeclaration": 11252,
                              "src": "4465:17:28",
                              "typeDescriptions": {
                                "typeIdentifier": "t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",
                                "typeString": "function (uint256,uint256) pure returns (uint256)"
                              }
                            },
                            "id": 3475,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "kind": "functionCall",
                            "lValueRequested": false,
                            "names": [],
                            "nodeType": "FunctionCall",
                            "src": "4465:32:28",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "4449:48:28",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "id": 3477,
                        "nodeType": "ExpressionStatement",
                        "src": "4449:48:28"
                      }
                    ]
                  },
                  "id": 3479,
                  "nodeType": "IfStatement",
                  "src": "4324:184:28",
                  "trueBody": {
                    "id": 3470,
                    "nodeType": "Block",
                    "src": "4356:73:28",
                    "statements": [
                      {
                        "expression": {
                          "argumentTypes": null,
                          "id": 3468,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftHandSide": {
                            "argumentTypes": null,
                            "id": 3463,
                            "name": "positiveValue",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3415,
                            "src": "4370:13:28",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "Assignment",
                          "operator": "=",
                          "rightHandSide": {
                            "argumentTypes": null,
                            "arguments": [
                              {
                                "argumentTypes": null,
                                "id": 3466,
                                "name": "positionValue",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 3452,
                                "src": "4404:13:28",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              }
                            ],
                            "expression": {
                              "argumentTypes": [
                                {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              ],
                              "expression": {
                                "argumentTypes": null,
                                "id": 3464,
                                "name": "positiveValue",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 3415,
                                "src": "4386:13:28",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              },
                              "id": 3465,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "memberName": "add",
                              "nodeType": "MemberAccess",
                              "referencedDeclaration": 11252,
                              "src": "4386:17:28",
                              "typeDescriptions": {
                                "typeIdentifier": "t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$",
                                "typeString": "function (uint256,uint256) pure returns (uint256)"
                              }
                            },
                            "id": 3467,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "kind": "functionCall",
                            "lValueRequested": false,
                            "names": [],
                            "nodeType": "FunctionCall",
                            "src": "4386:32:28",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "4370:48:28",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "id": 3469,
                        "nodeType": "ExpressionStatement",
                        "src": "4370:48:28"
                      }
                    ]
                  }
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "components": [
                      {
                        "argumentTypes": null,
                        "id": 3480,
                        "name": "positiveValue",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3415,
                        "src": "4526:13:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "id": 3481,
                        "name": "negativeValue",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3419,
                        "src": "4541:13:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "id": 3482,
                    "isConstant": false,
                    "isInlineArray": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "nodeType": "TupleExpression",
                    "src": "4525:30:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$_t_uint256_$_t_uint256_$",
                      "typeString": "tuple(uint256,uint256)"
                    }
                  },
                  "functionReturnParameters": 3413,
                  "id": 3483,
                  "nodeType": "Return",
                  "src": "4518:37:28"
                }
              ]
            },
            "documentation": "@dev Returns the positive and negative values of the margin and position together, given a\n price, which is used as a conversion rate between the two currencies.\n     *  No rounding occurs here--the returned values are \"base values\" with extra precision.",
            "id": 3485,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "getPositiveAndNegativeValue",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 3408,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3405,
                  "name": "balance",
                  "nodeType": "VariableDeclaration",
                  "scope": 3485,
                  "src": "3764:30:28",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                    "typeString": "struct P1Types.Balance"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 3404,
                    "name": "P1Types.Balance",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 3672,
                    "src": "3764:15:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Balance_$3672_storage_ptr",
                      "typeString": "struct P1Types.Balance"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3407,
                  "name": "price",
                  "nodeType": "VariableDeclaration",
                  "scope": 3485,
                  "src": "3804:13:28",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3406,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "3804:7:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "3754:69:28"
            },
            "returnParameters": {
              "id": 3413,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3410,
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "scope": 3485,
                  "src": "3871:7:28",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3409,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "3871:7:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3412,
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "scope": 3485,
                  "src": "3880:7:28",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3411,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "3880:7:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "3870:18:28"
            },
            "scope": 3607,
            "src": "3718:844:28",
            "stateMutability": "pure",
            "superFunction": null,
            "visibility": "internal"
          },
          {
            "body": {
              "id": 3525,
              "nodeType": "Block",
              "src": "4793:296:28",
              "statements": [
                {
                  "assignments": [
                    3493
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3493,
                      "name": "result",
                      "nodeType": "VariableDeclaration",
                      "scope": 3525,
                      "src": "4803:14:28",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 3492,
                        "name": "uint256",
                        "nodeType": "ElementaryTypeName",
                        "src": "4803:7:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 3520,
                  "initialValue": {
                    "argumentTypes": null,
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 3519,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "argumentTypes": null,
                      "commonType": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "id": 3512,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "leftExpression": {
                        "argumentTypes": null,
                        "commonType": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        "id": 3505,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "argumentTypes": null,
                          "arguments": [
                            {
                              "argumentTypes": null,
                              "expression": {
                                "argumentTypes": null,
                                "id": 3495,
                                "name": "balance",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 3487,
                                "src": "4840:7:28",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                                  "typeString": "struct P1Types.Balance memory"
                                }
                              },
                              "id": 3496,
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "memberName": "position",
                              "nodeType": "MemberAccess",
                              "referencedDeclaration": 3671,
                              "src": "4840:16:28",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint120",
                                "typeString": "uint120"
                              }
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_uint120",
                                "typeString": "uint120"
                              }
                            ],
                            "id": 3494,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "lValueRequested": false,
                            "nodeType": "ElementaryTypeNameExpression",
                            "src": "4832:7:28",
                            "typeDescriptions": {
                              "typeIdentifier": "t_type$_t_uint256_$",
                              "typeString": "type(uint256)"
                            },
                            "typeName": "uint256"
                          },
                          "id": 3497,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "typeConversion",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "4832:25:28",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "|",
                        "rightExpression": {
                          "argumentTypes": null,
                          "components": [
                            {
                              "argumentTypes": null,
                              "commonType": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              },
                              "id": 3503,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "leftExpression": {
                                "argumentTypes": null,
                                "arguments": [
                                  {
                                    "argumentTypes": null,
                                    "expression": {
                                      "argumentTypes": null,
                                      "id": 3499,
                                      "name": "balance",
                                      "nodeType": "Identifier",
                                      "overloadedDeclarations": [],
                                      "referencedDeclaration": 3487,
                                      "src": "4881:7:28",
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                                        "typeString": "struct P1Types.Balance memory"
                                      }
                                    },
                                    "id": 3500,
                                    "isConstant": false,
                                    "isLValue": true,
                                    "isPure": false,
                                    "lValueRequested": false,
                                    "memberName": "margin",
                                    "nodeType": "MemberAccess",
                                    "referencedDeclaration": 3669,
                                    "src": "4881:14:28",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_uint120",
                                      "typeString": "uint120"
                                    }
                                  }
                                ],
                                "expression": {
                                  "argumentTypes": [
                                    {
                                      "typeIdentifier": "t_uint120",
                                      "typeString": "uint120"
                                    }
                                  ],
                                  "id": 3498,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": true,
                                  "lValueRequested": false,
                                  "nodeType": "ElementaryTypeNameExpression",
                                  "src": "4873:7:28",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_type$_t_uint256_$",
                                    "typeString": "type(uint256)"
                                  },
                                  "typeName": "uint256"
                                },
                                "id": 3501,
                                "isConstant": false,
                                "isLValue": false,
                                "isPure": false,
                                "kind": "typeConversion",
                                "lValueRequested": false,
                                "names": [],
                                "nodeType": "FunctionCall",
                                "src": "4873:23:28",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              },
                              "nodeType": "BinaryOperation",
                              "operator": "<<",
                              "rightExpression": {
                                "argumentTypes": null,
                                "hexValue": "313238",
                                "id": 3502,
                                "isConstant": false,
                                "isLValue": false,
                                "isPure": true,
                                "kind": "number",
                                "lValueRequested": false,
                                "nodeType": "Literal",
                                "src": "4900:3:28",
                                "subdenomination": null,
                                "typeDescriptions": {
                                  "typeIdentifier": "t_rational_128_by_1",
                                  "typeString": "int_const 128"
                                },
                                "value": "128"
                              },
                              "src": "4873:30:28",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            }
                          ],
                          "id": 3504,
                          "isConstant": false,
                          "isInlineArray": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "nodeType": "TupleExpression",
                          "src": "4872:32:28",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "src": "4832:72:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "nodeType": "BinaryOperation",
                      "operator": "|",
                      "rightExpression": {
                        "argumentTypes": null,
                        "components": [
                          {
                            "argumentTypes": null,
                            "condition": {
                              "argumentTypes": null,
                              "expression": {
                                "argumentTypes": null,
                                "id": 3506,
                                "name": "balance",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 3487,
                                "src": "4920:7:28",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                                  "typeString": "struct P1Types.Balance memory"
                                }
                              },
                              "id": 3507,
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "memberName": "marginIsPositive",
                              "nodeType": "MemberAccess",
                              "referencedDeclaration": 3665,
                              "src": "4920:24:28",
                              "typeDescriptions": {
                                "typeIdentifier": "t_bool",
                                "typeString": "bool"
                              }
                            },
                            "falseExpression": {
                              "argumentTypes": null,
                              "hexValue": "30",
                              "id": 3509,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "kind": "number",
                              "lValueRequested": false,
                              "nodeType": "Literal",
                              "src": "4973:1:28",
                              "subdenomination": null,
                              "typeDescriptions": {
                                "typeIdentifier": "t_rational_0_by_1",
                                "typeString": "int_const 0"
                              },
                              "value": "0"
                            },
                            "id": 3510,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "nodeType": "Conditional",
                            "src": "4920:54:28",
                            "trueExpression": {
                              "argumentTypes": null,
                              "id": 3508,
                              "name": "FLAG_MARGIN_IS_POSITIVE",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 3259,
                              "src": "4947:23:28",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            },
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          }
                        ],
                        "id": 3511,
                        "isConstant": false,
                        "isInlineArray": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "nodeType": "TupleExpression",
                        "src": "4919:56:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "src": "4832:143:28",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "|",
                    "rightExpression": {
                      "argumentTypes": null,
                      "components": [
                        {
                          "argumentTypes": null,
                          "condition": {
                            "argumentTypes": null,
                            "expression": {
                              "argumentTypes": null,
                              "id": 3513,
                              "name": "balance",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 3487,
                              "src": "4991:7:28",
                              "typeDescriptions": {
                                "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                                "typeString": "struct P1Types.Balance memory"
                              }
                            },
                            "id": 3514,
                            "isConstant": false,
                            "isLValue": true,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "positionIsPositive",
                            "nodeType": "MemberAccess",
                            "referencedDeclaration": 3667,
                            "src": "4991:26:28",
                            "typeDescriptions": {
                              "typeIdentifier": "t_bool",
                              "typeString": "bool"
                            }
                          },
                          "falseExpression": {
                            "argumentTypes": null,
                            "hexValue": "30",
                            "id": 3516,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "kind": "number",
                            "lValueRequested": false,
                            "nodeType": "Literal",
                            "src": "5048:1:28",
                            "subdenomination": null,
                            "typeDescriptions": {
                              "typeIdentifier": "t_rational_0_by_1",
                              "typeString": "int_const 0"
                            },
                            "value": "0"
                          },
                          "id": 3517,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "nodeType": "Conditional",
                          "src": "4991:58:28",
                          "trueExpression": {
                            "argumentTypes": null,
                            "id": 3515,
                            "name": "FLAG_POSITION_IS_POSITIVE",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3267,
                            "src": "5020:25:28",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        }
                      ],
                      "id": 3518,
                      "isConstant": false,
                      "isInlineArray": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "nodeType": "TupleExpression",
                      "src": "4990:60:28",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "4832:218:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "4803:247:28"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "id": 3522,
                        "name": "result",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3493,
                        "src": "5075:6:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "id": 3521,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "lValueRequested": false,
                      "nodeType": "ElementaryTypeNameExpression",
                      "src": "5067:7:28",
                      "typeDescriptions": {
                        "typeIdentifier": "t_type$_t_bytes32_$",
                        "typeString": "type(bytes32)"
                      },
                      "typeName": "bytes32"
                    },
                    "id": 3523,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "typeConversion",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "5067:15:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes32",
                      "typeString": "bytes32"
                    }
                  },
                  "functionReturnParameters": 3491,
                  "id": 3524,
                  "nodeType": "Return",
                  "src": "5060:22:28"
                }
              ]
            },
            "documentation": "@dev Returns a compressed bytes32 representation of the balance for logging.",
            "id": 3526,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "toBytes32",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 3488,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3487,
                  "name": "balance",
                  "nodeType": "VariableDeclaration",
                  "scope": 3526,
                  "src": "4696:30:28",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                    "typeString": "struct P1Types.Balance"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 3486,
                    "name": "P1Types.Balance",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 3672,
                    "src": "4696:15:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Balance_$3672_storage_ptr",
                      "typeString": "struct P1Types.Balance"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "4686:46:28"
            },
            "returnParameters": {
              "id": 3491,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3490,
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "scope": 3526,
                  "src": "4780:7:28",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes32",
                    "typeString": "bytes32"
                  },
                  "typeName": {
                    "id": 3489,
                    "name": "bytes32",
                    "nodeType": "ElementaryTypeName",
                    "src": "4780:7:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes32",
                      "typeString": "bytes32"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "4779:9:28"
            },
            "scope": 3607,
            "src": "4668:421:28",
            "stateMutability": "pure",
            "superFunction": null,
            "visibility": "internal"
          },
          {
            "body": {
              "id": 3541,
              "nodeType": "Block",
              "src": "5372:135:28",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "expression": {
                          "argumentTypes": null,
                          "id": 3535,
                          "name": "balance",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3528,
                          "src": "5425:7:28",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                            "typeString": "struct P1Types.Balance memory"
                          }
                        },
                        "id": 3536,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "margin",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 3669,
                        "src": "5425:14:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint120",
                          "typeString": "uint120"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "expression": {
                          "argumentTypes": null,
                          "id": 3537,
                          "name": "balance",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3528,
                          "src": "5465:7:28",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                            "typeString": "struct P1Types.Balance memory"
                          }
                        },
                        "id": 3538,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "marginIsPositive",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 3665,
                        "src": "5465:24:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_uint120",
                          "typeString": "uint120"
                        },
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      ],
                      "expression": {
                        "argumentTypes": null,
                        "id": 3533,
                        "name": "SignedMath",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 1070,
                        "src": "5389:10:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_contract$_SignedMath_$1070_$",
                          "typeString": "type(library SignedMath)"
                        }
                      },
                      "id": 3534,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "Int",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 841,
                      "src": "5389:14:28",
                      "typeDescriptions": {
                        "typeIdentifier": "t_type$_t_struct$_Int_$841_storage_ptr_$",
                        "typeString": "type(struct SignedMath.Int storage pointer)"
                      }
                    },
                    "id": 3539,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "structConstructorCall",
                    "lValueRequested": false,
                    "names": [
                      "value",
                      "isPositive"
                    ],
                    "nodeType": "FunctionCall",
                    "src": "5389:111:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Int_$841_memory",
                      "typeString": "struct SignedMath.Int memory"
                    }
                  },
                  "functionReturnParameters": 3532,
                  "id": 3540,
                  "nodeType": "Return",
                  "src": "5382:118:28"
                }
              ]
            },
            "documentation": "@dev Returns a SignedMath.Int version of the margin in balance.",
            "id": 3542,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "getMargin",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 3529,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3528,
                  "name": "balance",
                  "nodeType": "VariableDeclaration",
                  "scope": 3542,
                  "src": "5261:30:28",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                    "typeString": "struct P1Types.Balance"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 3527,
                    "name": "P1Types.Balance",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 3672,
                    "src": "5261:15:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Balance_$3672_storage_ptr",
                      "typeString": "struct P1Types.Balance"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "5251:46:28"
            },
            "returnParameters": {
              "id": 3532,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3531,
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "scope": 3542,
                  "src": "5345:21:28",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                    "typeString": "struct SignedMath.Int"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 3530,
                    "name": "SignedMath.Int",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 841,
                    "src": "5345:14:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Int_$841_storage_ptr",
                      "typeString": "struct SignedMath.Int"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "5344:23:28"
            },
            "scope": 3607,
            "src": "5233:274:28",
            "stateMutability": "pure",
            "superFunction": null,
            "visibility": "internal"
          },
          {
            "body": {
              "id": 3557,
              "nodeType": "Block",
              "src": "5743:139:28",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "expression": {
                          "argumentTypes": null,
                          "id": 3551,
                          "name": "balance",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3544,
                          "src": "5796:7:28",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                            "typeString": "struct P1Types.Balance memory"
                          }
                        },
                        "id": 3552,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "position",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 3671,
                        "src": "5796:16:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint120",
                          "typeString": "uint120"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "expression": {
                          "argumentTypes": null,
                          "id": 3553,
                          "name": "balance",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3544,
                          "src": "5838:7:28",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                            "typeString": "struct P1Types.Balance memory"
                          }
                        },
                        "id": 3554,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "positionIsPositive",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 3667,
                        "src": "5838:26:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_uint120",
                          "typeString": "uint120"
                        },
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      ],
                      "expression": {
                        "argumentTypes": null,
                        "id": 3549,
                        "name": "SignedMath",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 1070,
                        "src": "5760:10:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_contract$_SignedMath_$1070_$",
                          "typeString": "type(library SignedMath)"
                        }
                      },
                      "id": 3550,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "Int",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 841,
                      "src": "5760:14:28",
                      "typeDescriptions": {
                        "typeIdentifier": "t_type$_t_struct$_Int_$841_storage_ptr_$",
                        "typeString": "type(struct SignedMath.Int storage pointer)"
                      }
                    },
                    "id": 3555,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "structConstructorCall",
                    "lValueRequested": false,
                    "names": [
                      "value",
                      "isPositive"
                    ],
                    "nodeType": "FunctionCall",
                    "src": "5760:115:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Int_$841_memory",
                      "typeString": "struct SignedMath.Int memory"
                    }
                  },
                  "functionReturnParameters": 3548,
                  "id": 3556,
                  "nodeType": "Return",
                  "src": "5753:122:28"
                }
              ]
            },
            "documentation": "@dev Returns a SignedMath.Int version of the position in balance.",
            "id": 3558,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "getPosition",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 3545,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3544,
                  "name": "balance",
                  "nodeType": "VariableDeclaration",
                  "scope": 3558,
                  "src": "5632:30:28",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                    "typeString": "struct P1Types.Balance"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 3543,
                    "name": "P1Types.Balance",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 3672,
                    "src": "5632:15:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Balance_$3672_storage_ptr",
                      "typeString": "struct P1Types.Balance"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "5622:46:28"
            },
            "returnParameters": {
              "id": 3548,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3547,
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "scope": 3558,
                  "src": "5716:21:28",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                    "typeString": "struct SignedMath.Int"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 3546,
                    "name": "SignedMath.Int",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 841,
                    "src": "5716:14:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Int_$841_storage_ptr",
                      "typeString": "struct SignedMath.Int"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "5715:23:28"
            },
            "scope": 3607,
            "src": "5602:280:28",
            "stateMutability": "pure",
            "superFunction": null,
            "visibility": "internal"
          },
          {
            "body": {
              "id": 3581,
              "nodeType": "Block",
              "src": "6110:118:28",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 3572,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "expression": {
                        "argumentTypes": null,
                        "id": 3565,
                        "name": "balance",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3560,
                        "src": "6120:7:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                          "typeString": "struct P1Types.Balance memory"
                        }
                      },
                      "id": 3567,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "memberName": "margin",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 3669,
                      "src": "6120:14:28",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint120",
                        "typeString": "uint120"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "arguments": [],
                      "expression": {
                        "argumentTypes": [],
                        "expression": {
                          "argumentTypes": null,
                          "expression": {
                            "argumentTypes": null,
                            "id": 3568,
                            "name": "newMargin",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3562,
                            "src": "6137:9:28",
                            "typeDescriptions": {
                              "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                              "typeString": "struct SignedMath.Int memory"
                            }
                          },
                          "id": 3569,
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "value",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": 838,
                          "src": "6137:15:28",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "id": 3570,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "toUint120",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 806,
                        "src": "6137:25:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_internal_pure$_t_uint256_$returns$_t_uint120_$bound_to$_t_uint256_$",
                          "typeString": "function (uint256) pure returns (uint120)"
                        }
                      },
                      "id": 3571,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "6137:27:28",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint120",
                        "typeString": "uint120"
                      }
                    },
                    "src": "6120:44:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint120",
                      "typeString": "uint120"
                    }
                  },
                  "id": 3573,
                  "nodeType": "ExpressionStatement",
                  "src": "6120:44:28"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 3579,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "expression": {
                        "argumentTypes": null,
                        "id": 3574,
                        "name": "balance",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3560,
                        "src": "6174:7:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                          "typeString": "struct P1Types.Balance memory"
                        }
                      },
                      "id": 3576,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "memberName": "marginIsPositive",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 3665,
                      "src": "6174:24:28",
                      "typeDescriptions": {
                        "typeIdentifier": "t_bool",
                        "typeString": "bool"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "expression": {
                        "argumentTypes": null,
                        "id": 3577,
                        "name": "newMargin",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3562,
                        "src": "6201:9:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                          "typeString": "struct SignedMath.Int memory"
                        }
                      },
                      "id": 3578,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "isPositive",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 840,
                      "src": "6201:20:28",
                      "typeDescriptions": {
                        "typeIdentifier": "t_bool",
                        "typeString": "bool"
                      }
                    },
                    "src": "6174:47:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 3580,
                  "nodeType": "ExpressionStatement",
                  "src": "6174:47:28"
                }
              ]
            },
            "documentation": "@dev In-place modify the signed margin value of a balance.",
            "id": 3582,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "setMargin",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 3563,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3560,
                  "name": "balance",
                  "nodeType": "VariableDeclaration",
                  "scope": 3582,
                  "src": "5998:30:28",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                    "typeString": "struct P1Types.Balance"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 3559,
                    "name": "P1Types.Balance",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 3672,
                    "src": "5998:15:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Balance_$3672_storage_ptr",
                      "typeString": "struct P1Types.Balance"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3562,
                  "name": "newMargin",
                  "nodeType": "VariableDeclaration",
                  "scope": 3582,
                  "src": "6038:31:28",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                    "typeString": "struct SignedMath.Int"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 3561,
                    "name": "SignedMath.Int",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 841,
                    "src": "6038:14:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Int_$841_storage_ptr",
                      "typeString": "struct SignedMath.Int"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "5988:87:28"
            },
            "returnParameters": {
              "id": 3564,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "6110:0:28"
            },
            "scope": 3607,
            "src": "5970:258:28",
            "stateMutability": "pure",
            "superFunction": null,
            "visibility": "internal"
          },
          {
            "body": {
              "id": 3605,
              "nodeType": "Block",
              "src": "6462:126:28",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 3596,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "expression": {
                        "argumentTypes": null,
                        "id": 3589,
                        "name": "balance",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3584,
                        "src": "6472:7:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                          "typeString": "struct P1Types.Balance memory"
                        }
                      },
                      "id": 3591,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "memberName": "position",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 3671,
                      "src": "6472:16:28",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint120",
                        "typeString": "uint120"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "arguments": [],
                      "expression": {
                        "argumentTypes": [],
                        "expression": {
                          "argumentTypes": null,
                          "expression": {
                            "argumentTypes": null,
                            "id": 3592,
                            "name": "newPosition",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3586,
                            "src": "6491:11:28",
                            "typeDescriptions": {
                              "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                              "typeString": "struct SignedMath.Int memory"
                            }
                          },
                          "id": 3593,
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "value",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": 838,
                          "src": "6491:17:28",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "id": 3594,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "toUint120",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 806,
                        "src": "6491:27:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_internal_pure$_t_uint256_$returns$_t_uint120_$bound_to$_t_uint256_$",
                          "typeString": "function (uint256) pure returns (uint120)"
                        }
                      },
                      "id": 3595,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "6491:29:28",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint120",
                        "typeString": "uint120"
                      }
                    },
                    "src": "6472:48:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint120",
                      "typeString": "uint120"
                    }
                  },
                  "id": 3597,
                  "nodeType": "ExpressionStatement",
                  "src": "6472:48:28"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 3603,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "expression": {
                        "argumentTypes": null,
                        "id": 3598,
                        "name": "balance",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3584,
                        "src": "6530:7:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                          "typeString": "struct P1Types.Balance memory"
                        }
                      },
                      "id": 3600,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "memberName": "positionIsPositive",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 3667,
                      "src": "6530:26:28",
                      "typeDescriptions": {
                        "typeIdentifier": "t_bool",
                        "typeString": "bool"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "expression": {
                        "argumentTypes": null,
                        "id": 3601,
                        "name": "newPosition",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3586,
                        "src": "6559:11:28",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                          "typeString": "struct SignedMath.Int memory"
                        }
                      },
                      "id": 3602,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "isPositive",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 840,
                      "src": "6559:22:28",
                      "typeDescriptions": {
                        "typeIdentifier": "t_bool",
                        "typeString": "bool"
                      }
                    },
                    "src": "6530:51:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 3604,
                  "nodeType": "ExpressionStatement",
                  "src": "6530:51:28"
                }
              ]
            },
            "documentation": "@dev In-place modify the signed position value of a balance.",
            "id": 3606,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "setPosition",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 3587,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3584,
                  "name": "balance",
                  "nodeType": "VariableDeclaration",
                  "scope": 3606,
                  "src": "6348:30:28",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Balance_$3672_memory_ptr",
                    "typeString": "struct P1Types.Balance"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 3583,
                    "name": "P1Types.Balance",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 3672,
                    "src": "6348:15:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Balance_$3672_storage_ptr",
                      "typeString": "struct P1Types.Balance"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3586,
                  "name": "newPosition",
                  "nodeType": "VariableDeclaration",
                  "scope": 3606,
                  "src": "6388:33:28",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                    "typeString": "struct SignedMath.Int"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 3585,
                    "name": "SignedMath.Int",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 841,
                    "src": "6388:14:28",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Int_$841_storage_ptr",
                      "typeString": "struct SignedMath.Int"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "6338:89:28"
            },
            "returnParameters": {
              "id": 3588,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "6462:0:28"
            },
            "scope": 3607,
            "src": "6318:270:28",
            "stateMutability": "pure",
            "superFunction": null,
            "visibility": "internal"
          }
        ],
        "scope": 3608,
        "src": "1041:5549:28"
      }
    ],
    "src": "603:5988:28"
  },
  "legacyAST": {
    "attributes": {
      "absolutePath": "/Users/dennismacpro/Projects/Defi/Ethereum-Solidity-Collection/icarus-protocol/defi-seeder/.tmp/dydx-protocol/perpetual/contracts/protocol/v1/lib/P1BalanceMath.sol",
      "exportedSymbols": {
        "P1BalanceMath": [
          3607
        ]
      }
    },
    "children": [
      {
        "attributes": {
          "literals": [
            "solidity",
            "0.5",
            ".16"
          ]
        },
        "id": 3225,
        "name": "PragmaDirective",
        "src": "603:23:28"
      },
      {
        "attributes": {
          "literals": [
            "experimental",
            "ABIEncoderV2"
          ]
        },
        "id": 3226,
        "name": "PragmaDirective",
        "src": "627:33:28"
      },
      {
        "attributes": {
          "SourceUnit": 11413,
          "absolutePath": "@openzeppelin/contracts/math/SafeMath.sol",
          "file": "@openzeppelin/contracts/math/SafeMath.sol",
          "scope": 3608,
          "symbolAliases": [
            {
              "foreign": 3227,
              "local": null
            }
          ],
          "unitAlias": ""
        },
        "id": 3228,
        "name": "ImportDirective",
        "src": "662:69:28"
      },
      {
        "attributes": {
          "SourceUnit": 3690,
          "absolutePath": "/Users/dennismacpro/Projects/Defi/Ethereum-Solidity-Collection/icarus-protocol/defi-seeder/.tmp/dydx-protocol/perpetual/contracts/protocol/v1/lib/P1Types.sol",
          "file": "./P1Types.sol",
          "scope": 3608,
          "symbolAliases": [
            {
              "foreign": 3229,
              "local": null
            }
          ],
          "unitAlias": ""
        },
        "id": 3230,
        "name": "ImportDirective",
        "src": "732:40:28"
      },
      {
        "attributes": {
          "SourceUnit": 462,
          "absolutePath": "/Users/dennismacpro/Projects/Defi/Ethereum-Solidity-Collection/icarus-protocol/defi-seeder/.tmp/dydx-protocol/perpetual/contracts/protocol/lib/BaseMath.sol",
          "file": "../../lib/BaseMath.sol",
          "scope": 3608,
          "symbolAliases": [
            {
              "foreign": 3231,
              "local": null
            }
          ],
          "unitAlias": ""
        },
        "id": 3232,
        "name": "ImportDirective",
        "src": "773:50:28"
      },
      {
        "attributes": {
          "SourceUnit": 829,
          "absolutePath": "/Users/dennismacpro/Projects/Defi/Ethereum-Solidity-Collection/icarus-protocol/defi-seeder/.tmp/dydx-protocol/perpetual/contracts/protocol/lib/SafeCast.sol",
          "file": "../../lib/SafeCast.sol",
          "scope": 3608,
          "symbolAliases": [
            {
              "foreign": 3233,
              "local": null
            }
          ],
          "unitAlias": ""
        },
        "id": 3234,
        "name": "ImportDirective",
        "src": "824:50:28"
      },
      {
        "attributes": {
          "SourceUnit": 1071,
          "absolutePath": "/Users/dennismacpro/Projects/Defi/Ethereum-Solidity-Collection/icarus-protocol/defi-seeder/.tmp/dydx-protocol/perpetual/contracts/protocol/lib/SignedMath.sol",
          "file": "../../lib/SignedMath.sol",
          "scope": 3608,
          "symbolAliases": [
            {
              "foreign": 3235,
              "local": null
            }
          ],
          "unitAlias": ""
        },
        "id": 3236,
        "name": "ImportDirective",
        "src": "875:54:28"
      },
      {
        "attributes": {
          "baseContracts": [
            null
          ],
          "contractDependencies": [
            null
          ],
          "contractKind": "library",
          "documentation": "@title P1BalanceMath\n@author dYdX\n * @dev Library for manipulating P1Types.Balance structs.",
          "fullyImplemented": true,
          "linearizedBaseContracts": [
            3607
          ],
          "name": "P1BalanceMath",
          "scope": 3608
        },
        "children": [
          {
            "children": [
              {
                "attributes": {
                  "contractScope": null,
                  "name": "BaseMath",
                  "referencedDeclaration": 461,
                  "type": "library BaseMath"
                },
                "id": 3237,
                "name": "UserDefinedTypeName",
                "src": "1075:8:28"
              },
              {
                "attributes": {
                  "name": "uint256",
                  "type": "uint256"
                },
                "id": 3238,
                "name": "ElementaryTypeName",
                "src": "1088:7:28"
              }
            ],
            "id": 3239,
            "name": "UsingForDirective",
            "src": "1069:27:28"
          },
          {
            "children": [
              {
                "attributes": {
                  "contractScope": null,
                  "name": "SafeCast",
                  "referencedDeclaration": 828,
                  "type": "library SafeCast"
                },
                "id": 3240,
                "name": "UserDefinedTypeName",
                "src": "1107:8:28"
              },
              {
                "attributes": {
                  "name": "uint256",
                  "type": "uint256"
                },
                "id": 3241,
                "name": "ElementaryTypeName",
                "src": "1120:7:28"
              }
            ],
            "id": 3242,
            "name": "UsingForDirective",
            "src": "1101:27:28"
          },
          {
            "children": [
              {
                "attributes": {
                  "contractScope": null,
                  "name": "SafeMath",
                  "referencedDeclaration": 11412,
                  "type": "library SafeMath"
                },
                "id": 3243,
                "name": "UserDefinedTypeName",
                "src": "1139:8:28"
              },
              {
                "attributes": {
                  "name": "uint256",
                  "type": "uint256"
                },
                "id": 3244,
                "name": "ElementaryTypeName",
                "src": "1152:7:28"
              }
            ],
            "id": 3245,
            "name": "UsingForDirective",
            "src": "1133:27:28"
          },
          {
            "children": [
              {
                "attributes": {
                  "contractScope": null,
                  "name": "SignedMath",
                  "referencedDeclaration": 1070,
                  "type": "library SignedMath"
                },
                "id": 3246,
                "name": "UserDefinedTypeName",
                "src": "1171:10:28"
              },
              {
                "attributes": {
                  "contractScope": null,
                  "name": "SignedMath.Int",
                  "referencedDeclaration": 841,
                  "type": "struct SignedMath.Int"
                },
                "id": 3247,
                "name": "UserDefinedTypeName",
                "src": "1186:14:28"
              }
            ],
            "id": 3248,
            "name": "UsingForDirective",
            "src": "1165:36:28"
          },
          {
            "children": [
              {
                "attributes": {
                  "contractScope": null,
                  "name": "P1BalanceMath",
                  "referencedDeclaration": 3607,
                  "type": "library P1BalanceMath"
                },
                "id": 3249,
                "name": "UserDefinedTypeName",
                "src": "1212:13:28"
              },
              {
                "attributes": {
                  "contractScope": null,
                  "name": "P1Types.Balance",
                  "referencedDeclaration": 3672,
                  "type": "struct P1Types.Balance"
                },
                "id": 3250,
                "name": "UserDefinedTypeName",
                "src": "1230:15:28"
              }
            ],
            "id": 3251,
            "name": "UsingForDirective",
            "src": "1206:40:28"
          },
          {
            "attributes": {
              "constant": true,
              "name": "FLAG_MARGIN_IS_POSITIVE",
              "scope": 3607,
              "stateVariable": true,
              "storageLocation": "default",
              "type": "uint256",
              "visibility": "private"
            },
            "children": [
              {
                "attributes": {
                  "name": "uint256",
                  "type": "uint256"
                },
                "id": 3252,
                "name": "ElementaryTypeName",
                "src": "1296:7:28"
              },
              {
                "attributes": {
                  "argumentTypes": null,
                  "commonType": {
                    "typeIdentifier": "t_rational_452312848583266388373324160190187140051835877600158453279131187530910662656_by_1",
                    "typeString": "int_const 4523...(67 digits omitted)...2656"
                  },
                  "isConstant": false,
                  "isLValue": false,
                  "isPure": true,
                  "lValueRequested": false,
                  "operator": "<<",
                  "type": "int_const 4523...(67 digits omitted)...2656"
                },
                "children": [
                  {
                    "attributes": {
                      "argumentTypes": null,
                      "hexvalue": "31",
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "lValueRequested": false,
                      "subdenomination": null,
                      "token": "number",
                      "type": "int_const 1",
                      "value": "1"
                    },
                    "id": 3253,
                    "name": "Literal",
                    "src": "1347:1:28"
                  },
                  {
                    "attributes": {
                      "argumentTypes": null,
                      "isConstant": false,
                      "isInlineArray": false,
                      "isLValue": false,
                      "isPure": true,
                      "lValueRequested": false,
                      "type": "int_const 248"
                    },
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "commonType": {
                            "typeIdentifier": "t_rational_248_by_1",
                            "typeString": "int_const 248"
                          },
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "lValueRequested": false,
                          "operator": "*",
                          "type": "int_const 248"
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "hexvalue": "38",
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "lValueRequested": false,
                              "subdenomination": null,
                              "token": "number",
                              "type": "int_const 8",
                              "value": "8"
                            },
                            "id": 3254,
                            "name": "Literal",
                            "src": "1353:1:28"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "hexvalue": "3331",
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "lValueRequested": false,
                              "subdenomination": null,
                              "token": "number",
                              "type": "int_const 31",
                              "value": "31"
                            },
                            "id": 3255,
                            "name": "Literal",
                            "src": "1357:2:28"
                          }
                        ],
                        "id": 3256,
                        "name": "BinaryOperation",
                        "src": "1353:6:28"
                      }
                    ],
                    "id": 3257,
                    "name": "TupleExpression",
                    "src": "1352:8:28"
                  }
                ],
                "id": 3258,
                "name": "BinaryOperation",
                "src": "1347:13:28"
              }
            ],
            "id": 3259,
            "name": "VariableDeclaration",
            "src": "1296:64:28"
          },
          {
            "attributes": {
              "constant": true,
              "name": "FLAG_POSITION_IS_POSITIVE",
              "scope": 3607,
              "stateVariable": true,
              "storageLocation": "default",
              "type": "uint256",
              "visibility": "private"
            },
            "children": [
              {
                "attributes": {
                  "name": "uint256",
                  "type": "uint256"
                },
                "id": 3260,
                "name": "ElementaryTypeName",
                "src": "1366:7:28"
              },
              {
                "attributes": {
                  "argumentTypes": null,
                  "commonType": {
                    "typeIdentifier": "t_rational_1329227995784915872903807060280344576_by_1",
                    "typeString": "int_const 1329...(29 digits omitted)...4576"
                  },
                  "isConstant": false,
                  "isLValue": false,
                  "isPure": true,
                  "lValueRequested": false,
                  "operator": "<<",
                  "type": "int_const 1329...(29 digits omitted)...4576"
                },
                "children": [
                  {
                    "attributes": {
                      "argumentTypes": null,
                      "hexvalue": "31",
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "lValueRequested": false,
                      "subdenomination": null,
                      "token": "number",
                      "type": "int_const 1",
                      "value": "1"
                    },
                    "id": 3261,
                    "name": "Literal",
                    "src": "1419:1:28"
                  },
                  {
                    "attributes": {
                      "argumentTypes": null,
                      "isConstant": false,
                      "isInlineArray": false,
                      "isLValue": false,
                      "isPure": true,
                      "lValueRequested": false,
                      "type": "int_const 120"
                    },
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "commonType": {
                            "typeIdentifier": "t_rational_120_by_1",
                            "typeString": "int_const 120"
                          },
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "lValueRequested": false,
                          "operator": "*",
                          "type": "int_const 120"
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "hexvalue": "38",
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "lValueRequested": false,
                              "subdenomination": null,
                              "token": "number",
                              "type": "int_const 8",
                              "value": "8"
                            },
                            "id": 3262,
                            "name": "Literal",
                            "src": "1425:1:28"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "hexvalue": "3135",
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "lValueRequested": false,
                              "subdenomination": null,
                              "token": "number",
                              "type": "int_const 15",
                              "value": "15"
                            },
                            "id": 3263,
                            "name": "Literal",
                            "src": "1429:2:28"
                          }
                        ],
                        "id": 3264,
                        "name": "BinaryOperation",
                        "src": "1425:6:28"
                      }
                    ],
                    "id": 3265,
                    "name": "TupleExpression",
                    "src": "1424:8:28"
                  }
                ],
                "id": 3266,
                "name": "BinaryOperation",
                "src": "1419:13:28"
              }
            ],
            "id": 3267,
            "name": "VariableDeclaration",
            "src": "1366:66:28"
          },
          {
            "attributes": {
              "documentation": "@dev Create a copy of the balance struct.",
              "implemented": true,
              "isConstructor": false,
              "kind": "function",
              "modifiers": [
                null
              ],
              "name": "copy",
              "scope": 3607,
              "stateMutability": "pure",
              "superFunction": null,
              "visibility": "internal"
            },
            "children": [
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "name": "balance",
                      "scope": 3287,
                      "stateVariable": false,
                      "storageLocation": "memory",
                      "type": "struct P1Types.Balance",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "contractScope": null,
                          "name": "P1Types.Balance",
                          "referencedDeclaration": 3672,
                          "type": "struct P1Types.Balance"
                        },
                        "id": 3268,
                        "name": "UserDefinedTypeName",
                        "src": "1571:15:28"
                      }
                    ],
                    "id": 3269,
                    "name": "VariableDeclaration",
                    "src": "1571:30:28"
                  }
                ],
                "id": 3270,
                "name": "ParameterList",
                "src": "1561:46:28"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "name": "",
                      "scope": 3287,
                      "stateVariable": false,
                      "storageLocation": "memory",
                      "type": "struct P1Types.Balance",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "contractScope": null,
                          "name": "P1Types.Balance",
                          "referencedDeclaration": 3672,
                          "type": "struct P1Types.Balance"
                        },
                        "id": 3271,
                        "name": "UserDefinedTypeName",
                        "src": "1655:15:28"
                      }
                    ],
                    "id": 3272,
                    "name": "VariableDeclaration",
                    "src": "1655:22:28"
                  }
                ],
                "id": 3273,
                "name": "ParameterList",
                "src": "1654:24:28"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "functionReturnParameters": 3273
                    },
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "isStructConstructorCall": true,
                          "lValueRequested": false,
                          "names": [
                            "marginIsPositive",
                            "positionIsPositive",
                            "margin",
                            "position"
                          ],
                          "type": "struct P1Types.Balance memory",
                          "type_conversion": false
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": [
                                {
                                  "typeIdentifier": "t_bool",
                                  "typeString": "bool"
                                },
                                {
                                  "typeIdentifier": "t_bool",
                                  "typeString": "bool"
                                },
                                {
                                  "typeIdentifier": "t_uint120",
                                  "typeString": "uint120"
                                },
                                {
                                  "typeIdentifier": "t_uint120",
                                  "typeString": "uint120"
                                }
                              ],
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "member_name": "Balance",
                              "referencedDeclaration": 3672,
                              "type": "type(struct P1Types.Balance storage pointer)"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "overloadedDeclarations": [
                                    null
                                  ],
                                  "referencedDeclaration": 3689,
                                  "type": "type(library P1Types)",
                                  "value": "P1Types"
                                },
                                "id": 3274,
                                "name": "Identifier",
                                "src": "1700:7:28"
                              }
                            ],
                            "id": 3275,
                            "name": "MemberAccess",
                            "src": "1700:15:28"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "member_name": "marginIsPositive",
                              "referencedDeclaration": 3665,
                              "type": "bool"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "overloadedDeclarations": [
                                    null
                                  ],
                                  "referencedDeclaration": 3269,
                                  "type": "struct P1Types.Balance memory",
                                  "value": "balance"
                                },
                                "id": 3276,
                                "name": "Identifier",
                                "src": "1748:7:28"
                              }
                            ],
                            "id": 3277,
                            "name": "MemberAccess",
                            "src": "1748:24:28"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "member_name": "positionIsPositive",
                              "referencedDeclaration": 3667,
                              "type": "bool"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "overloadedDeclarations": [
                                    null
                                  ],
                                  "referencedDeclaration": 3269,
                                  "type": "struct P1Types.Balance memory",
                                  "value": "balance"
                                },
                                "id": 3278,
                                "name": "Identifier",
                                "src": "1806:7:28"
                              }
                            ],
                            "id": 3279,
                            "name": "MemberAccess",
                            "src": "1806:26:28"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "member_name": "margin",
                              "referencedDeclaration": 3669,
                              "type": "uint120"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "overloadedDeclarations": [
                                    null
                                  ],
                                  "referencedDeclaration": 3269,
                                  "type": "struct P1Types.Balance memory",
                                  "value": "balance"
                                },
                                "id": 3280,
                                "name": "Identifier",
                                "src": "1854:7:28"
                              }
                            ],
                            "id": 3281,
                            "name": "MemberAccess",
                            "src": "1854:14:28"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "member_name": "position",
                              "referencedDeclaration": 3671,
                              "type": "uint120"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "overloadedDeclarations": [
                                    null
                                  ],
                                  "referencedDeclaration": 3269,
                                  "type": "struct P1Types.Balance memory",
                                  "value": "balance"
                                },
                                "id": 3282,
                                "name": "Identifier",
                                "src": "1892:7:28"
                              }
                            ],
                            "id": 3283,
                            "name": "MemberAccess",
                            "src": "1892:16:28"
                          }
                        ],
                        "id": 3284,
                        "name": "FunctionCall",
                        "src": "1700:219:28"
                      }
                    ],
                    "id": 3285,
                    "name": "Return",
                    "src": "1693:226:28"
                  }
                ],
                "id": 3286,
                "name": "Block",
                "src": "1683:243:28"
              }
            ],
            "id": 3287,
            "name": "FunctionDefinition",
            "src": "1548:378:28"
          },
          {
            "attributes": {
              "documentation": "@dev In-place add amount to balance.margin.",
              "implemented": true,
              "isConstructor": false,
              "kind": "function",
              "modifiers": [
                null
              ],
              "name": "addToMargin",
              "scope": 3607,
              "stateMutability": "pure",
              "superFunction": null,
              "visibility": "internal"
            },
            "children": [
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "name": "balance",
                      "scope": 3316,
                      "stateVariable": false,
                      "storageLocation": "memory",
                      "type": "struct P1Types.Balance",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "contractScope": null,
                          "name": "P1Types.Balance",
                          "referencedDeclaration": 3672,
                          "type": "struct P1Types.Balance"
                        },
                        "id": 3288,
                        "name": "UserDefinedTypeName",
                        "src": "2029:15:28"
                      }
                    ],
                    "id": 3289,
                    "name": "VariableDeclaration",
                    "src": "2029:30:28"
                  },
                  {
                    "attributes": {
                      "constant": false,
                      "name": "amount",
                      "scope": 3316,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "uint256",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "uint256",
                          "type": "uint256"
                        },
                        "id": 3290,
                        "name": "ElementaryTypeName",
                        "src": "2069:7:28"
                      }
                    ],
                    "id": 3291,
                    "name": "VariableDeclaration",
                    "src": "2069:14:28"
                  }
                ],
                "id": 3292,
                "name": "ParameterList",
                "src": "2019:70:28"
              },
              {
                "attributes": {
                  "parameters": [
                    null
                  ]
                },
                "children": [],
                "id": 3293,
                "name": "ParameterList",
                "src": "2124:0:28"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "assignments": [
                        3297
                      ]
                    },
                    "children": [
                      {
                        "attributes": {
                          "constant": false,
                          "name": "signedMargin",
                          "scope": 3315,
                          "stateVariable": false,
                          "storageLocation": "memory",
                          "type": "struct SignedMath.Int",
                          "value": null,
                          "visibility": "internal"
                        },
                        "children": [
                          {
                            "attributes": {
                              "contractScope": null,
                              "name": "SignedMath.Int",
                              "referencedDeclaration": 841,
                              "type": "struct SignedMath.Int"
                            },
                            "id": 3296,
                            "name": "UserDefinedTypeName",
                            "src": "2134:14:28"
                          }
                        ],
                        "id": 3297,
                        "name": "VariableDeclaration",
                        "src": "2134:34:28"
                      },
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "arguments": [
                            null
                          ],
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "isStructConstructorCall": false,
                          "lValueRequested": false,
                          "names": [
                            null
                          ],
                          "type": "struct SignedMath.Int memory",
                          "type_conversion": false
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": [
                                null
                              ],
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "member_name": "getMargin",
                              "referencedDeclaration": 3542,
                              "type": "function (struct P1Types.Balance memory) pure returns (struct SignedMath.Int memory)"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "overloadedDeclarations": [
                                    null
                                  ],
                                  "referencedDeclaration": 3289,
                                  "type": "struct P1Types.Balance memory",
                                  "value": "balance"
                                },
                                "id": 3298,
                                "name": "Identifier",
                                "src": "2171:7:28"
                              }
                            ],
                            "id": 3299,
                            "name": "MemberAccess",
                            "src": "2171:17:28"
                          }
                        ],
                        "id": 3300,
                        "name": "FunctionCall",
                        "src": "2171:19:28"
                      }
                    ],
                    "id": 3301,
                    "name": "VariableDeclarationStatement",
                    "src": "2134:56:28"
                  },
                  {
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "operator": "=",
                          "type": "struct SignedMath.Int memory"
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "overloadedDeclarations": [
                                null
                              ],
                              "referencedDeclaration": 3297,
                              "type": "struct SignedMath.Int memory",
                              "value": "signedMargin"
                            },
                            "id": 3302,
                            "name": "Identifier",
                            "src": "2200:12:28"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "isStructConstructorCall": false,
                              "lValueRequested": false,
                              "names": [
                                null
                              ],
                              "type": "struct SignedMath.Int memory",
                              "type_conversion": false
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": [
                                    {
                                      "typeIdentifier": "t_uint256",
                                      "typeString": "uint256"
                                    }
                                  ],
                                  "isConstant": false,
                                  "isLValue": true,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "member_name": "add",
                                  "referencedDeclaration": 888,
                                  "type": "function (struct SignedMath.Int memory,uint256) pure returns (struct SignedMath.Int memory)"
                                },
                                "children": [
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "overloadedDeclarations": [
                                        null
                                      ],
                                      "referencedDeclaration": 3297,
                                      "type": "struct SignedMath.Int memory",
                                      "value": "signedMargin"
                                    },
                                    "id": 3303,
                                    "name": "Identifier",
                                    "src": "2215:12:28"
                                  }
                                ],
                                "id": 3304,
                                "name": "MemberAccess",
                                "src": "2215:16:28"
                              },
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "overloadedDeclarations": [
                                    null
                                  ],
                                  "referencedDeclaration": 3291,
                                  "type": "uint256",
                                  "value": "amount"
                                },
                                "id": 3305,
                                "name": "Identifier",
                                "src": "2232:6:28"
                              }
                            ],
                            "id": 3306,
                            "name": "FunctionCall",
                            "src": "2215:24:28"
                          }
                        ],
                        "id": 3307,
                        "name": "Assignment",
                        "src": "2200:39:28"
                      }
                    ],
                    "id": 3308,
                    "name": "ExpressionStatement",
                    "src": "2200:39:28"
                  },
                  {
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "isStructConstructorCall": false,
                          "lValueRequested": false,
                          "names": [
                            null
                          ],
                          "type": "tuple()",
                          "type_conversion": false
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": [
                                {
                                  "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                                  "typeString": "struct SignedMath.Int memory"
                                }
                              ],
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "member_name": "setMargin",
                              "referencedDeclaration": 3582,
                              "type": "function (struct P1Types.Balance memory,struct SignedMath.Int memory) pure"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "overloadedDeclarations": [
                                    null
                                  ],
                                  "referencedDeclaration": 3289,
                                  "type": "struct P1Types.Balance memory",
                                  "value": "balance"
                                },
                                "id": 3309,
                                "name": "Identifier",
                                "src": "2249:7:28"
                              }
                            ],
                            "id": 3311,
                            "name": "MemberAccess",
                            "src": "2249:17:28"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "overloadedDeclarations": [
                                null
                              ],
                              "referencedDeclaration": 3297,
                              "type": "struct SignedMath.Int memory",
                              "value": "signedMargin"
                            },
                            "id": 3312,
                            "name": "Identifier",
                            "src": "2267:12:28"
                          }
                        ],
                        "id": 3313,
                        "name": "FunctionCall",
                        "src": "2249:31:28"
                      }
                    ],
                    "id": 3314,
                    "name": "ExpressionStatement",
                    "src": "2249:31:28"
                  }
                ],
                "id": 3315,
                "name": "Block",
                "src": "2124:163:28"
              }
            ],
            "id": 3316,
            "name": "FunctionDefinition",
            "src": "1999:288:28"
          },
          {
            "attributes": {
              "documentation": "@dev In-place subtract amount from balance.margin.",
              "implemented": true,
              "isConstructor": false,
              "kind": "function",
              "modifiers": [
                null
              ],
              "name": "subFromMargin",
              "scope": 3607,
              "stateMutability": "pure",
              "superFunction": null,
              "visibility": "internal"
            },
            "children": [
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "name": "balance",
                      "scope": 3345,
                      "stateVariable": false,
                      "storageLocation": "memory",
                      "type": "struct P1Types.Balance",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "contractScope": null,
                          "name": "P1Types.Balance",
                          "referencedDeclaration": 3672,
                          "type": "struct P1Types.Balance"
                        },
                        "id": 3317,
                        "name": "UserDefinedTypeName",
                        "src": "2399:15:28"
                      }
                    ],
                    "id": 3318,
                    "name": "VariableDeclaration",
                    "src": "2399:30:28"
                  },
                  {
                    "attributes": {
                      "constant": false,
                      "name": "amount",
                      "scope": 3345,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "uint256",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "uint256",
                          "type": "uint256"
                        },
                        "id": 3319,
                        "name": "ElementaryTypeName",
                        "src": "2439:7:28"
                      }
                    ],
                    "id": 3320,
                    "name": "VariableDeclaration",
                    "src": "2439:14:28"
                  }
                ],
                "id": 3321,
                "name": "ParameterList",
                "src": "2389:70:28"
              },
              {
                "attributes": {
                  "parameters": [
                    null
                  ]
                },
                "children": [],
                "id": 3322,
                "name": "ParameterList",
                "src": "2494:0:28"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "assignments": [
                        3326
                      ]
                    },
                    "children": [
                      {
                        "attributes": {
                          "constant": false,
                          "name": "signedMargin",
                          "scope": 3344,
                          "stateVariable": false,
                          "storageLocation": "memory",
                          "type": "struct SignedMath.Int",
                          "value": null,
                          "visibility": "internal"
                        },
                        "children": [
                          {
                            "attributes": {
                              "contractScope": null,
                              "name": "SignedMath.Int",
                              "referencedDeclaration": 841,
                              "type": "struct SignedMath.Int"
                            },
                            "id": 3325,
                            "name": "UserDefinedTypeName",
                            "src": "2504:14:28"
                          }
                        ],
                        "id": 3326,
                        "name": "VariableDeclaration",
                        "src": "2504:34:28"
                      },
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "arguments": [
                            null
                          ],
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "isStructConstructorCall": false,
                          "lValueRequested": false,
                          "names": [
                            null
                          ],
                          "type": "struct SignedMath.Int memory",
                          "type_conversion": false
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": [
                                null
                              ],
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "member_name": "getMargin",
                              "referencedDeclaration": 3542,
                              "type": "function (struct P1Types.Balance memory) pure returns (struct SignedMath.Int memory)"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "overloadedDeclarations": [
                                    null
                                  ],
                                  "referencedDeclaration": 3318,
                                  "type": "struct P1Types.Balance memory",
                                  "value": "balance"
                                },
                                "id": 3327,
                                "name": "Identifier",
                                "src": "2541:7:28"
                              }
                            ],
                            "id": 3328,
                            "name": "MemberAccess",
                            "src": "2541:17:28"
                          }
                        ],
                        "id": 3329,
                        "name": "FunctionCall",
                        "src": "2541:19:28"
                      }
                    ],
                    "id": 3330,
                    "name": "VariableDeclarationStatement",
                    "src": "2504:56:28"
                  },
                  {
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "operator": "=",
                          "type": "struct SignedMath.Int memory"
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "overloadedDeclarations": [
                                null
                              ],
                              "referencedDeclaration": 3326,
                              "type": "struct SignedMath.Int memory",
                              "value": "signedMargin"
                            },
                            "id": 3331,
                            "name": "Identifier",
                            "src": "2570:12:28"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "isStructConstructorCall": false,
                              "lValueRequested": false,
                              "names": [
                                null
                              ],
                              "type": "struct SignedMath.Int memory",
                              "type_conversion": false
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": [
                                    {
                                      "typeIdentifier": "t_uint256",
                                      "typeString": "uint256"
                                    }
                                  ],
                                  "isConstant": false,
                                  "isLValue": true,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "member_name": "sub",
                                  "referencedDeclaration": 936,
                                  "type": "function (struct SignedMath.Int memory,uint256) pure returns (struct SignedMath.Int memory)"
                                },
                                "children": [
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "overloadedDeclarations": [
                                        null
                                      ],
                                      "referencedDeclaration": 3326,
                                      "type": "struct SignedMath.Int memory",
                                      "value": "signedMargin"
                                    },
                                    "id": 3332,
                                    "name": "Identifier",
                                    "src": "2585:12:28"
                                  }
                                ],
                                "id": 3333,
                                "name": "MemberAccess",
                                "src": "2585:16:28"
                              },
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "overloadedDeclarations": [
                                    null
                                  ],
                                  "referencedDeclaration": 3320,
                                  "type": "uint256",
                                  "value": "amount"
                                },
                                "id": 3334,
                                "name": "Identifier",
                                "src": "2602:6:28"
                              }
                            ],
                            "id": 3335,
                            "name": "FunctionCall",
                            "src": "2585:24:28"
                          }
                        ],
                        "id": 3336,
                        "name": "Assignment",
                        "src": "2570:39:28"
                      }
                    ],
                    "id": 3337,
                    "name": "ExpressionStatement",
                    "src": "2570:39:28"
                  },
                  {
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "isStructConstructorCall": false,
                          "lValueRequested": false,
                          "names": [
                            null
                          ],
                          "type": "tuple()",
                          "type_conversion": false
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": [
                                {
                                  "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                                  "typeString": "struct SignedMath.Int memory"
                                }
                              ],
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "member_name": "setMargin",
                              "referencedDeclaration": 3582,
                              "type": "function (struct P1Types.Balance memory,struct SignedMath.Int memory) pure"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "overloadedDeclarations": [
                                    null
                                  ],
                                  "referencedDeclaration": 3318,
                                  "type": "struct P1Types.Balance memory",
                                  "value": "balance"
                                },
                                "id": 3338,
                                "name": "Identifier",
                                "src": "2619:7:28"
                              }
                            ],
                            "id": 3340,
                            "name": "MemberAccess",
                            "src": "2619:17:28"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "overloadedDeclarations": [
                                null
                              ],
                              "referencedDeclaration": 3326,
                              "type": "struct SignedMath.Int memory",
                              "value": "signedMargin"
                            },
                            "id": 3341,
                            "name": "Identifier",
                            "src": "2637:12:28"
                          }
                        ],
                        "id": 3342,
                        "name": "FunctionCall",
                        "src": "2619:31:28"
                      }
                    ],
                    "id": 3343,
                    "name": "ExpressionStatement",
                    "src": "2619:31:28"
                  }
                ],
                "id": 3344,
                "name": "Block",
                "src": "2494:163:28"
              }
            ],
            "id": 3345,
            "name": "FunctionDefinition",
            "src": "2367:290:28"
          },
          {
            "attributes": {
              "documentation": "@dev In-place add amount to balance.position.",
              "implemented": true,
              "isConstructor": false,
              "kind": "function",
              "modifiers": [
                null
              ],
              "name": "addToPosition",
              "scope": 3607,
              "stateMutability": "pure",
              "superFunction": null,
              "visibility": "internal"
            },
            "children": [
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "name": "balance",
                      "scope": 3374,
                      "stateVariable": false,
                      "storageLocation": "memory",
                      "type": "struct P1Types.Balance",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "contractScope": null,
                          "name": "P1Types.Balance",
                          "referencedDeclaration": 3672,
                          "type": "struct P1Types.Balance"
                        },
                        "id": 3346,
                        "name": "UserDefinedTypeName",
                        "src": "2764:15:28"
                      }
                    ],
                    "id": 3347,
                    "name": "VariableDeclaration",
                    "src": "2764:30:28"
                  },
                  {
                    "attributes": {
                      "constant": false,
                      "name": "amount",
                      "scope": 3374,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "uint256",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "uint256",
                          "type": "uint256"
                        },
                        "id": 3348,
                        "name": "ElementaryTypeName",
                        "src": "2804:7:28"
                      }
                    ],
                    "id": 3349,
                    "name": "VariableDeclaration",
                    "src": "2804:14:28"
                  }
                ],
                "id": 3350,
                "name": "ParameterList",
                "src": "2754:70:28"
              },
              {
                "attributes": {
                  "parameters": [
                    null
                  ]
                },
                "children": [],
                "id": 3351,
                "name": "ParameterList",
                "src": "2859:0:28"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "assignments": [
                        3355
                      ]
                    },
                    "children": [
                      {
                        "attributes": {
                          "constant": false,
                          "name": "signedPosition",
                          "scope": 3373,
                          "stateVariable": false,
                          "storageLocation": "memory",
                          "type": "struct SignedMath.Int",
                          "value": null,
                          "visibility": "internal"
                        },
                        "children": [
                          {
                            "attributes": {
                              "contractScope": null,
                              "name": "SignedMath.Int",
                              "referencedDeclaration": 841,
                              "type": "struct SignedMath.Int"
                            },
                            "id": 3354,
                            "name": "UserDefinedTypeName",
                            "src": "2869:14:28"
                          }
                        ],
                        "id": 3355,
                        "name": "VariableDeclaration",
                        "src": "2869:36:28"
                      },
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "arguments": [
                            null
                          ],
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "isStructConstructorCall": false,
                          "lValueRequested": false,
                          "names": [
                            null
                          ],
                          "type": "struct SignedMath.Int memory",
                          "type_conversion": false
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": [
                                null
                              ],
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "member_name": "getPosition",
                              "referencedDeclaration": 3558,
                              "type": "function (struct P1Types.Balance memory) pure returns (struct SignedMath.Int memory)"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "overloadedDeclarations": [
                                    null
                                  ],
                                  "referencedDeclaration": 3347,
                                  "type": "struct P1Types.Balance memory",
                                  "value": "balance"
                                },
                                "id": 3356,
                                "name": "Identifier",
                                "src": "2908:7:28"
                              }
                            ],
                            "id": 3357,
                            "name": "MemberAccess",
                            "src": "2908:19:28"
                          }
                        ],
                        "id": 3358,
                        "name": "FunctionCall",
                        "src": "2908:21:28"
                      }
                    ],
                    "id": 3359,
                    "name": "VariableDeclarationStatement",
                    "src": "2869:60:28"
                  },
                  {
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "operator": "=",
                          "type": "struct SignedMath.Int memory"
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "overloadedDeclarations": [
                                null
                              ],
                              "referencedDeclaration": 3355,
                              "type": "struct SignedMath.Int memory",
                              "value": "signedPosition"
                            },
                            "id": 3360,
                            "name": "Identifier",
                            "src": "2939:14:28"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "isStructConstructorCall": false,
                              "lValueRequested": false,
                              "names": [
                                null
                              ],
                              "type": "struct SignedMath.Int memory",
                              "type_conversion": false
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": [
                                    {
                                      "typeIdentifier": "t_uint256",
                                      "typeString": "uint256"
                                    }
                                  ],
                                  "isConstant": false,
                                  "isLValue": true,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "member_name": "add",
                                  "referencedDeclaration": 888,
                                  "type": "function (struct SignedMath.Int memory,uint256) pure returns (struct SignedMath.Int memory)"
                                },
                                "children": [
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "overloadedDeclarations": [
                                        null
                                      ],
                                      "referencedDeclaration": 3355,
                                      "type": "struct SignedMath.Int memory",
                                      "value": "signedPosition"
                                    },
                                    "id": 3361,
                                    "name": "Identifier",
                                    "src": "2956:14:28"
                                  }
                                ],
                                "id": 3362,
                                "name": "MemberAccess",
                                "src": "2956:18:28"
                              },
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "overloadedDeclarations": [
                                    null
                                  ],
                                  "referencedDeclaration": 3349,
                                  "type": "uint256",
                                  "value": "amount"
                                },
                                "id": 3363,
                                "name": "Identifier",
                                "src": "2975:6:28"
                              }
                            ],
                            "id": 3364,
                            "name": "FunctionCall",
                            "src": "2956:26:28"
                          }
                        ],
                        "id": 3365,
                        "name": "Assignment",
                        "src": "2939:43:28"
                      }
                    ],
                    "id": 3366,
                    "name": "ExpressionStatement",
                    "src": "2939:43:28"
                  },
                  {
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "isStructConstructorCall": false,
                          "lValueRequested": false,
                          "names": [
                            null
                          ],
                          "type": "tuple()",
                          "type_conversion": false
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": [
                                {
                                  "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                                  "typeString": "struct SignedMath.Int memory"
                                }
                              ],
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "member_name": "setPosition",
                              "referencedDeclaration": 3606,
                              "type": "function (struct P1Types.Balance memory,struct SignedMath.Int memory) pure"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "overloadedDeclarations": [
                                    null
                                  ],
                                  "referencedDeclaration": 3347,
                                  "type": "struct P1Types.Balance memory",
                                  "value": "balance"
                                },
                                "id": 3367,
                                "name": "Identifier",
                                "src": "2992:7:28"
                              }
                            ],
                            "id": 3369,
                            "name": "MemberAccess",
                            "src": "2992:19:28"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "overloadedDeclarations": [
                                null
                              ],
                              "referencedDeclaration": 3355,
                              "type": "struct SignedMath.Int memory",
                              "value": "signedPosition"
                            },
                            "id": 3370,
                            "name": "Identifier",
                            "src": "3012:14:28"
                          }
                        ],
                        "id": 3371,
                        "name": "FunctionCall",
                        "src": "2992:35:28"
                      }
                    ],
                    "id": 3372,
                    "name": "ExpressionStatement",
                    "src": "2992:35:28"
                  }
                ],
                "id": 3373,
                "name": "Block",
                "src": "2859:175:28"
              }
            ],
            "id": 3374,
            "name": "FunctionDefinition",
            "src": "2732:302:28"
          },
          {
            "attributes": {
              "documentation": "@dev In-place subtract amount from balance.position.",
              "implemented": true,
              "isConstructor": false,
              "kind": "function",
              "modifiers": [
                null
              ],
              "name": "subFromPosition",
              "scope": 3607,
              "stateMutability": "pure",
              "superFunction": null,
              "visibility": "internal"
            },
            "children": [
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "name": "balance",
                      "scope": 3403,
                      "stateVariable": false,
                      "storageLocation": "memory",
                      "type": "struct P1Types.Balance",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "contractScope": null,
                          "name": "P1Types.Balance",
                          "referencedDeclaration": 3672,
                          "type": "struct P1Types.Balance"
                        },
                        "id": 3375,
                        "name": "UserDefinedTypeName",
                        "src": "3150:15:28"
                      }
                    ],
                    "id": 3376,
                    "name": "VariableDeclaration",
                    "src": "3150:30:28"
                  },
                  {
                    "attributes": {
                      "constant": false,
                      "name": "amount",
                      "scope": 3403,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "uint256",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "uint256",
                          "type": "uint256"
                        },
                        "id": 3377,
                        "name": "ElementaryTypeName",
                        "src": "3190:7:28"
                      }
                    ],
                    "id": 3378,
                    "name": "VariableDeclaration",
                    "src": "3190:14:28"
                  }
                ],
                "id": 3379,
                "name": "ParameterList",
                "src": "3140:70:28"
              },
              {
                "attributes": {
                  "parameters": [
                    null
                  ]
                },
                "children": [],
                "id": 3380,
                "name": "ParameterList",
                "src": "3245:0:28"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "assignments": [
                        3384
                      ]
                    },
                    "children": [
                      {
                        "attributes": {
                          "constant": false,
                          "name": "signedPosition",
                          "scope": 3402,
                          "stateVariable": false,
                          "storageLocation": "memory",
                          "type": "struct SignedMath.Int",
                          "value": null,
                          "visibility": "internal"
                        },
                        "children": [
                          {
                            "attributes": {
                              "contractScope": null,
                              "name": "SignedMath.Int",
                              "referencedDeclaration": 841,
                              "type": "struct SignedMath.Int"
                            },
                            "id": 3383,
                            "name": "UserDefinedTypeName",
                            "src": "3255:14:28"
                          }
                        ],
                        "id": 3384,
                        "name": "VariableDeclaration",
                        "src": "3255:36:28"
                      },
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "arguments": [
                            null
                          ],
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "isStructConstructorCall": false,
                          "lValueRequested": false,
                          "names": [
                            null
                          ],
                          "type": "struct SignedMath.Int memory",
                          "type_conversion": false
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": [
                                null
                              ],
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "member_name": "getPosition",
                              "referencedDeclaration": 3558,
                              "type": "function (struct P1Types.Balance memory) pure returns (struct SignedMath.Int memory)"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "overloadedDeclarations": [
                                    null
                                  ],
                                  "referencedDeclaration": 3376,
                                  "type": "struct P1Types.Balance memory",
                                  "value": "balance"
                                },
                                "id": 3385,
                                "name": "Identifier",
                                "src": "3294:7:28"
                              }
                            ],
                            "id": 3386,
                            "name": "MemberAccess",
                            "src": "3294:19:28"
                          }
                        ],
                        "id": 3387,
                        "name": "FunctionCall",
                        "src": "3294:21:28"
                      }
                    ],
                    "id": 3388,
                    "name": "VariableDeclarationStatement",
                    "src": "3255:60:28"
                  },
                  {
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "operator": "=",
                          "type": "struct SignedMath.Int memory"
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "overloadedDeclarations": [
                                null
                              ],
                              "referencedDeclaration": 3384,
                              "type": "struct SignedMath.Int memory",
                              "value": "signedPosition"
                            },
                            "id": 3389,
                            "name": "Identifier",
                            "src": "3325:14:28"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "isStructConstructorCall": false,
                              "lValueRequested": false,
                              "names": [
                                null
                              ],
                              "type": "struct SignedMath.Int memory",
                              "type_conversion": false
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": [
                                    {
                                      "typeIdentifier": "t_uint256",
                                      "typeString": "uint256"
                                    }
                                  ],
                                  "isConstant": false,
                                  "isLValue": true,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "member_name": "sub",
                                  "referencedDeclaration": 936,
                                  "type": "function (struct SignedMath.Int memory,uint256) pure returns (struct SignedMath.Int memory)"
                                },
                                "children": [
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "overloadedDeclarations": [
                                        null
                                      ],
                                      "referencedDeclaration": 3384,
                                      "type": "struct SignedMath.Int memory",
                                      "value": "signedPosition"
                                    },
                                    "id": 3390,
                                    "name": "Identifier",
                                    "src": "3342:14:28"
                                  }
                                ],
                                "id": 3391,
                                "name": "MemberAccess",
                                "src": "3342:18:28"
                              },
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "overloadedDeclarations": [
                                    null
                                  ],
                                  "referencedDeclaration": 3378,
                                  "type": "uint256",
                                  "value": "amount"
                                },
                                "id": 3392,
                                "name": "Identifier",
                                "src": "3361:6:28"
                              }
                            ],
                            "id": 3393,
                            "name": "FunctionCall",
                            "src": "3342:26:28"
                          }
                        ],
                        "id": 3394,
                        "name": "Assignment",
                        "src": "3325:43:28"
                      }
                    ],
                    "id": 3395,
                    "name": "ExpressionStatement",
                    "src": "3325:43:28"
                  },
                  {
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "isStructConstructorCall": false,
                          "lValueRequested": false,
                          "names": [
                            null
                          ],
                          "type": "tuple()",
                          "type_conversion": false
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": [
                                {
                                  "typeIdentifier": "t_struct$_Int_$841_memory_ptr",
                                  "typeString": "struct SignedMath.Int memory"
                                }
                              ],
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "member_name": "setPosition",
                              "referencedDeclaration": 3606,
                              "type": "function (struct P1Types.Balance memory,struct SignedMath.Int memory) pure"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "overloadedDeclarations": [
                                    null
                                  ],
                                  "referencedDeclaration": 3376,
                                  "type": "struct P1Types.Balance memory",
                                  "value": "balance"
                                },
                                "id": 3396,
                                "name": "Identifier",
                                "src": "3378:7:28"
                              }
                            ],
                            "id": 3398,
                            "name": "MemberAccess",
                            "src": "3378:19:28"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "overloadedDeclarations": [
                                null
                              ],
                              "referencedDeclaration": 3384,
                              "type": "struct SignedMath.Int memory",
                              "value": "signedPosition"
                            },
                            "id": 3399,
                            "name": "Identifier",
                            "src": "3398:14:28"
                          }
                        ],
                        "id": 3400,
                        "name": "FunctionCall",
                        "src": "3378:35:28"
                      }
                    ],
                    "id": 3401,
                    "name": "ExpressionStatement",
                    "src": "3378:35:28"
                  }
                ],
                "id": 3402,
                "name": "Block",
                "src": "3245:175:28"
              }
            ],
            "id": 3403,
            "name": "FunctionDefinition",
            "src": "3116:304:28"
          },
          {
            "attributes": {
              "documentation": "@dev Returns the positive and negative values of the margin and position together, given a\n price, which is used as a conversion rate between the two currencies.\n     *  No rounding occurs here--the returned values are \"base values\" with extra precision.",
              "implemented": true,
              "isConstructor": false,
              "kind": "function",
              "modifiers": [
                null
              ],
              "name": "getPositiveAndNegativeValue",
              "scope": 3607,
              "stateMutability": "pure",
              "superFunction": null,
              "visibility": "internal"
            },
            "children": [
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "name": "balance",
                      "scope": 3485,
                      "stateVariable": false,
                      "storageLocation": "memory",
                      "type": "struct P1Types.Balance",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "contractScope": null,
                          "name": "P1Types.Balance",
                          "referencedDeclaration": 3672,
                          "type": "struct P1Types.Balance"
                        },
                        "id": 3404,
                        "name": "UserDefinedTypeName",
                        "src": "3764:15:28"
                      }
                    ],
                    "id": 3405,
                    "name": "VariableDeclaration",
                    "src": "3764:30:28"
                  },
                  {
                    "attributes": {
                      "constant": false,
                      "name": "price",
                      "scope": 3485,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "uint256",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "uint256",
                          "type": "uint256"
                        },
                        "id": 3406,
                        "name": "ElementaryTypeName",
                        "src": "3804:7:28"
                      }
                    ],
                    "id": 3407,
                    "name": "VariableDeclaration",
                    "src": "3804:13:28"
                  }
                ],
                "id": 3408,
                "name": "ParameterList",
                "src": "3754:69:28"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "name": "",
                      "scope": 3485,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "uint256",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "uint256",
                          "type": "uint256"
                        },
                        "id": 3409,
                        "name": "ElementaryTypeName",
                        "src": "3871:7:28"
                      }
                    ],
                    "id": 3410,
                    "name": "VariableDeclaration",
                    "src": "3871:7:28"
                  },
                  {
                    "attributes": {
                      "constant": false,
                      "name": "",
                      "scope": 3485,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "uint256",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "uint256",
                          "type": "uint256"
                        },
                        "id": 3411,
                        "name": "ElementaryTypeName",
                        "src": "3880:7:28"
                      }
                    ],
                    "id": 3412,
                    "name": "VariableDeclaration",
                    "src": "3880:7:28"
                  }
                ],
                "id": 3413,
                "name": "ParameterList",
                "src": "3870:18:28"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "assignments": [
                        3415
                      ]
                    },
                    "children": [
                      {
                        "attributes": {
                          "constant": false,
                          "name": "positiveValue",
                          "scope": 3484,
                          "stateVariable": false,
                          "storageLocation": "default",
                          "type": "uint256",
                          "value": null,
                          "visibility": "internal"
                        },
                        "children": [
                          {
                            "attributes": {
                              "name": "uint256",
                              "type": "uint256"
                            },
                            "id": 3414,
                            "name": "ElementaryTypeName",
                            "src": "3903:7:28"
                          }
                        ],
                        "id": 3415,
                        "name": "VariableDeclaration",
                        "src": "3903:21:28"
                      },
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "hexvalue": "30",
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "lValueRequested": false,
                          "subdenomination": null,
                          "token": "number",
                          "type": "int_const 0",
                          "value": "0"
                        },
                        "id": 3416,
                        "name": "Literal",
                        "src": "3927:1:28"
                      }
                    ],
                    "id": 3417,
                    "name": "VariableDeclarationStatement",
                    "src": "3903:25:28"
                  },
                  {
                    "attributes": {
                      "assignments": [
                        3419
                      ]
                    },
                    "children": [
                      {
                        "attributes": {
                          "constant": false,
                          "name": "negativeValue",
                          "scope": 3484,
                          "stateVariable": false,
                          "storageLocation": "default",
                          "type": "uint256",
                          "value": null,
                          "visibility": "internal"
                        },
                        "children": [
                          {
                            "attributes": {
                              "name": "uint256",
                              "type": "uint256"
                            },
                            "id": 3418,
                            "name": "ElementaryTypeName",
                            "src": "3938:7:28"
                          }
                        ],
                        "id": 3419,
                        "name": "VariableDeclaration",
                        "src": "3938:21:28"
                      },
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "hexvalue": "30",
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "lValueRequested": false,
                          "subdenomination": null,
                          "token": "number",
                          "type": "int_const 0",
                          "value": "0"
                        },
                        "id": 3420,
                        "name": "Literal",
                        "src": "3962:1:28"
                      }
                    ],
                    "id": 3421,
                    "name": "VariableDeclarationStatement",
                    "src": "3938:25:28"
                  },
                  {
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "member_name": "marginIsPositive",
                          "referencedDeclaration": 3665,
                          "type": "bool"
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "overloadedDeclarations": [
                                null
                              ],
                              "referencedDeclaration": 3405,
                              "type": "struct P1Types.Balance memory",
                              "value": "balance"
                            },
                            "id": 3422,
                            "name": "Identifier",
                            "src": "4009:7:28"
                          }
                        ],
                        "id": 3423,
                        "name": "MemberAccess",
                        "src": "4009:24:28"
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "operator": "=",
                                  "type": "uint256"
                                },
                                "children": [
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "overloadedDeclarations": [
                                        null
                                      ],
                                      "referencedDeclaration": 3415,
                                      "type": "uint256",
                                      "value": "positiveValue"
                                    },
                                    "id": 3424,
                                    "name": "Identifier",
                                    "src": "4049:13:28"
                                  },
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": false,
                                      "isStructConstructorCall": false,
                                      "lValueRequested": false,
                                      "names": [
                                        null
                                      ],
                                      "type": "uint256",
                                      "type_conversion": false
                                    },
                                    "children": [
                                      {
                                        "attributes": {
                                          "argumentTypes": [
                                            {
                                              "typeIdentifier": "t_uint256",
                                              "typeString": "uint256"
                                            }
                                          ],
                                          "isConstant": false,
                                          "isLValue": false,
                                          "isPure": false,
                                          "lValueRequested": false,
                                          "member_name": "mul",
                                          "referencedDeclaration": 11329,
                                          "type": "function (uint256,uint256) pure returns (uint256)"
                                        },
                                        "children": [
                                          {
                                            "attributes": {
                                              "argumentTypes": null,
                                              "isConstant": false,
                                              "isLValue": false,
                                              "isPure": false,
                                              "isStructConstructorCall": false,
                                              "lValueRequested": false,
                                              "names": [
                                                null
                                              ],
                                              "type": "uint256",
                                              "type_conversion": true
                                            },
                                            "children": [
                                              {
                                                "attributes": {
                                                  "argumentTypes": [
                                                    {
                                                      "typeIdentifier": "t_uint120",
                                                      "typeString": "uint120"
                                                    }
                                                  ],
                                                  "isConstant": false,
                                                  "isLValue": false,
                                                  "isPure": true,
                                                  "lValueRequested": false,
                                                  "type": "type(uint256)",
                                                  "value": "uint256"
                                                },
                                                "id": 3425,
                                                "name": "ElementaryTypeNameExpression",
                                                "src": "4065:7:28"
                                              },
                                              {
                                                "attributes": {
                                                  "argumentTypes": null,
                                                  "isConstant": false,
                                                  "isLValue": true,
                                                  "isPure": false,
                                                  "lValueRequested": false,
                                                  "member_name": "margin",
                                                  "referencedDeclaration": 3669,
                                                  "type": "uint120"
                                                },
                                                "children": [
                                                  {
                                                    "attributes": {
                                                      "argumentTypes": null,
                                                      "overloadedDeclarations": [
                                                        null
                                                      ],
                                                      "referencedDeclaration": 3405,
                                                      "type": "struct P1Types.Balance memory",
                                                      "value": "balance"
                                                    },
                                                    "id": 3426,
                                                    "name": "Identifier",
                                                    "src": "4073:7:28"
                                                  }
                                                ],
                                                "id": 3427,
                                                "name": "MemberAccess",
                                                "src": "4073:14:28"
                                              }
                                            ],
                                            "id": 3428,
                                            "name": "FunctionCall",
                                            "src": "4065:23:28"
                                          }
                                        ],
                                        "id": 3429,
                                        "name": "MemberAccess",
                                        "src": "4065:27:28"
                                      },
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "arguments": [
                                            null
                                          ],
                                          "isConstant": false,
                                          "isLValue": false,
                                          "isPure": false,
                                          "isStructConstructorCall": false,
                                          "lValueRequested": false,
                                          "names": [
                                            null
                                          ],
                                          "type": "uint256",
                                          "type_conversion": false
                                        },
                                        "children": [
                                          {
                                            "attributes": {
                                              "argumentTypes": [
                                                null
                                              ],
                                              "isConstant": false,
                                              "isLValue": false,
                                              "isPure": false,
                                              "lValueRequested": false,
                                              "member_name": "base",
                                              "referencedDeclaration": 358,
                                              "type": "function () pure returns (uint256)"
                                            },
                                            "children": [
                                              {
                                                "attributes": {
                                                  "argumentTypes": null,
                                                  "overloadedDeclarations": [
                                                    null
                                                  ],
                                                  "referencedDeclaration": 461,
                                                  "type": "type(library BaseMath)",
                                                  "value": "BaseMath"
                                                },
                                                "id": 3430,
                                                "name": "Identifier",
                                                "src": "4093:8:28"
                                              }
                                            ],
                                            "id": 3431,
                                            "name": "MemberAccess",
                                            "src": "4093:13:28"
                                          }
                                        ],
                                        "id": 3432,
                                        "name": "FunctionCall",
                                        "src": "4093:15:28"
                                      }
                                    ],
                                    "id": 3433,
                                    "name": "FunctionCall",
                                    "src": "4065:44:28"
                                  }
                                ],
                                "id": 3434,
                                "name": "Assignment",
                                "src": "4049:60:28"
                              }
                            ],
                            "id": 3435,
                            "name": "ExpressionStatement",
                            "src": "4049:60:28"
                          }
                        ],
                        "id": 3436,
                        "name": "Block",
                        "src": "4035:85:28"
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "operator": "=",
                                  "type": "uint256"
                                },
                                "children": [
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "overloadedDeclarations": [
                                        null
                                      ],
                                      "referencedDeclaration": 3419,
                                      "type": "uint256",
                                      "value": "negativeValue"
                                    },
                                    "id": 3437,
                                    "name": "Identifier",
                                    "src": "4140:13:28"
                                  },
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": false,
                                      "isStructConstructorCall": false,
                                      "lValueRequested": false,
                                      "names": [
                                        null
                                      ],
                                      "type": "uint256",
                                      "type_conversion": false
                                    },
                                    "children": [
                                      {
                                        "attributes": {
                                          "argumentTypes": [
                                            {
                                              "typeIdentifier": "t_uint256",
                                              "typeString": "uint256"
                                            }
                                          ],
                                          "isConstant": false,
                                          "isLValue": false,
                                          "isPure": false,
                                          "lValueRequested": false,
                                          "member_name": "mul",
                                          "referencedDeclaration": 11329,
                                          "type": "function (uint256,uint256) pure returns (uint256)"
                                        },
                                        "children": [
                                          {
                                            "attributes": {
                                              "argumentTypes": null,
                                              "isConstant": false,
                                              "isLValue": false,
                                              "isPure": false,
                                              "isStructConstructorCall": false,
                                              "lValueRequested": false,
                                              "names": [
                                                null
                                              ],
                                              "type": "uint256",
                                              "type_conversion": true
                                            },
                                            "children": [
                                              {
                                                "attributes": {
                                                  "argumentTypes": [
                                                    {
                                                      "typeIdentifier": "t_uint120",
                                                      "typeString": "uint120"
                                                    }
                                                  ],
                                                  "isConstant": false,
                                                  "isLValue": false,
                                                  "isPure": true,
                                                  "lValueRequested": false,
                                                  "type": "type(uint256)",
                                                  "value": "uint256"
                                                },
                                                "id": 3438,
                                                "name": "ElementaryTypeNameExpression",
                                                "src": "4156:7:28"
                                              },
                                              {
                                                "attributes": {
                                                  "argumentTypes": null,
                                                  "isConstant": false,
                                                  "isLValue": true,
                                                  "isPure": false,
                                                  "lValueRequested": false,
                                                  "member_name": "margin",
                                                  "referencedDeclaration": 3669,
                                                  "type": "uint120"
                                                },
                                                "children": [
                                                  {
                                                    "attributes": {
                                                      "argumentTypes": null,
                                                      "overloadedDeclarations": [
                                                        null
                                                      ],
                                                      "referencedDeclaration": 3405,
                                                      "type": "struct P1Types.Balance memory",
                                                      "value": "balance"
                                                    },
                                                    "id": 3439,
                                                    "name": "Identifier",
                                                    "src": "4164:7:28"
                                                  }
                                                ],
                                                "id": 3440,
                                                "name": "MemberAccess",
                                                "src": "4164:14:28"
                                              }
                                            ],
                                            "id": 3441,
                                            "name": "FunctionCall",
                                            "src": "4156:23:28"
                                          }
                                        ],
                                        "id": 3442,
                                        "name": "MemberAccess",
                                        "src": "4156:27:28"
                                      },
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "arguments": [
                                            null
                                          ],
                                          "isConstant": false,
                                          "isLValue": false,
                                          "isPure": false,
                                          "isStructConstructorCall": false,
                                          "lValueRequested": false,
                                          "names": [
                                            null
                                          ],
                                          "type": "uint256",
                                          "type_conversion": false
                                        },
                                        "children": [
                                          {
                                            "attributes": {
                                              "argumentTypes": [
                                                null
                                              ],
                                              "isConstant": false,
                                              "isLValue": false,
                                              "isPure": false,
                                              "lValueRequested": false,
                                              "member_name": "base",
                                              "referencedDeclaration": 358,
                                              "type": "function () pure returns (uint256)"
                                            },
                                            "children": [
                                              {
                                                "attributes": {
                                                  "argumentTypes": null,
                                                  "overloadedDeclarations": [
                                                    null
                                                  ],
                                                  "referencedDeclaration": 461,
                                                  "type": "type(library BaseMath)",
                                                  "value": "BaseMath"
                                                },
                                                "id": 3443,
                                                "name": "Identifier",
                                                "src": "4184:8:28"
                                              }
                                            ],
                                            "id": 3444,
                                            "name": "MemberAccess",
                                            "src": "4184:13:28"
                                          }
                                        ],
                                        "id": 3445,
                                        "name": "FunctionCall",
                                        "src": "4184:15:28"
                                      }
                                    ],
                                    "id": 3446,
                                    "name": "FunctionCall",
                                    "src": "4156:44:28"
                                  }
                                ],
                                "id": 3447,
                                "name": "Assignment",
                                "src": "4140:60:28"
                              }
                            ],
                            "id": 3448,
                            "name": "ExpressionStatement",
                            "src": "4140:60:28"
                          }
                        ],
                        "id": 3449,
                        "name": "Block",
                        "src": "4126:85:28"
                      }
                    ],
                    "id": 3450,
                    "name": "IfStatement",
                    "src": "4005:206:28"
                  },
                  {
                    "attributes": {
                      "assignments": [
                        3452
                      ]
                    },
                    "children": [
                      {
                        "attributes": {
                          "constant": false,
                          "name": "positionValue",
                          "scope": 3484,
                          "stateVariable": false,
                          "storageLocation": "default",
                          "type": "uint256",
                          "value": null,
                          "visibility": "internal"
                        },
                        "children": [
                          {
                            "attributes": {
                              "name": "uint256",
                              "type": "uint256"
                            },
                            "id": 3451,
                            "name": "ElementaryTypeName",
                            "src": "4254:7:28"
                          }
                        ],
                        "id": 3452,
                        "name": "VariableDeclaration",
                        "src": "4254:21:28"
                      },
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "isStructConstructorCall": false,
                          "lValueRequested": false,
                          "names": [
                            null
                          ],
                          "type": "uint256",
                          "type_conversion": false
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": [
                                {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              ],
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "member_name": "mul",
                              "referencedDeclaration": 11329,
                              "type": "function (uint256,uint256) pure returns (uint256)"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "isStructConstructorCall": false,
                                  "lValueRequested": false,
                                  "names": [
                                    null
                                  ],
                                  "type": "uint256",
                                  "type_conversion": true
                                },
                                "children": [
                                  {
                                    "attributes": {
                                      "argumentTypes": [
                                        {
                                          "typeIdentifier": "t_uint120",
                                          "typeString": "uint120"
                                        }
                                      ],
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": true,
                                      "lValueRequested": false,
                                      "type": "type(uint256)",
                                      "value": "uint256"
                                    },
                                    "id": 3453,
                                    "name": "ElementaryTypeNameExpression",
                                    "src": "4278:7:28"
                                  },
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "isConstant": false,
                                      "isLValue": true,
                                      "isPure": false,
                                      "lValueRequested": false,
                                      "member_name": "position",
                                      "referencedDeclaration": 3671,
                                      "type": "uint120"
                                    },
                                    "children": [
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "overloadedDeclarations": [
                                            null
                                          ],
                                          "referencedDeclaration": 3405,
                                          "type": "struct P1Types.Balance memory",
                                          "value": "balance"
                                        },
                                        "id": 3454,
                                        "name": "Identifier",
                                        "src": "4286:7:28"
                                      }
                                    ],
                                    "id": 3455,
                                    "name": "MemberAccess",
                                    "src": "4286:16:28"
                                  }
                                ],
                                "id": 3456,
                                "name": "FunctionCall",
                                "src": "4278:25:28"
                              }
                            ],
                            "id": 3457,
                            "name": "MemberAccess",
                            "src": "4278:29:28"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "overloadedDeclarations": [
                                null
                              ],
                              "referencedDeclaration": 3407,
                              "type": "uint256",
                              "value": "price"
                            },
                            "id": 3458,
                            "name": "Identifier",
                            "src": "4308:5:28"
                          }
                        ],
                        "id": 3459,
                        "name": "FunctionCall",
                        "src": "4278:36:28"
                      }
                    ],
                    "id": 3460,
                    "name": "VariableDeclarationStatement",
                    "src": "4254:60:28"
                  },
                  {
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "member_name": "positionIsPositive",
                          "referencedDeclaration": 3667,
                          "type": "bool"
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "overloadedDeclarations": [
                                null
                              ],
                              "referencedDeclaration": 3405,
                              "type": "struct P1Types.Balance memory",
                              "value": "balance"
                            },
                            "id": 3461,
                            "name": "Identifier",
                            "src": "4328:7:28"
                          }
                        ],
                        "id": 3462,
                        "name": "MemberAccess",
                        "src": "4328:26:28"
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "operator": "=",
                                  "type": "uint256"
                                },
                                "children": [
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "overloadedDeclarations": [
                                        null
                                      ],
                                      "referencedDeclaration": 3415,
                                      "type": "uint256",
                                      "value": "positiveValue"
                                    },
                                    "id": 3463,
                                    "name": "Identifier",
                                    "src": "4370:13:28"
                                  },
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": false,
                                      "isStructConstructorCall": false,
                                      "lValueRequested": false,
                                      "names": [
                                        null
                                      ],
                                      "type": "uint256",
                                      "type_conversion": false
                                    },
                                    "children": [
                                      {
                                        "attributes": {
                                          "argumentTypes": [
                                            {
                                              "typeIdentifier": "t_uint256",
                                              "typeString": "uint256"
                                            }
                                          ],
                                          "isConstant": false,
                                          "isLValue": false,
                                          "isPure": false,
                                          "lValueRequested": false,
                                          "member_name": "add",
                                          "referencedDeclaration": 11252,
                                          "type": "function (uint256,uint256) pure returns (uint256)"
                                        },
                                        "children": [
                                          {
                                            "attributes": {
                                              "argumentTypes": null,
                                              "overloadedDeclarations": [
                                                null
                                              ],
                                              "referencedDeclaration": 3415,
                                              "type": "uint256",
                                              "value": "positiveValue"
                                            },
                                            "id": 3464,
                                            "name": "Identifier",
                                            "src": "4386:13:28"
                                          }
                                        ],
                                        "id": 3465,
                                        "name": "MemberAccess",
                                        "src": "4386:17:28"
                                      },
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "overloadedDeclarations": [
                                            null
                                          ],
                                          "referencedDeclaration": 3452,
                                          "type": "uint256",
                                          "value": "positionValue"
                                        },
                                        "id": 3466,
                                        "name": "Identifier",
                                        "src": "4404:13:28"
                                      }
                                    ],
                                    "id": 3467,
                                    "name": "FunctionCall",
                                    "src": "4386:32:28"
                                  }
                                ],
                                "id": 3468,
                                "name": "Assignment",
                                "src": "4370:48:28"
                              }
                            ],
                            "id": 3469,
                            "name": "ExpressionStatement",
                            "src": "4370:48:28"
                          }
                        ],
                        "id": 3470,
                        "name": "Block",
                        "src": "4356:73:28"
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "operator": "=",
                                  "type": "uint256"
                                },
                                "children": [
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "overloadedDeclarations": [
                                        null
                                      ],
                                      "referencedDeclaration": 3419,
                                      "type": "uint256",
                                      "value": "negativeValue"
                                    },
                                    "id": 3471,
                                    "name": "Identifier",
                                    "src": "4449:13:28"
                                  },
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": false,
                                      "isStructConstructorCall": false,
                                      "lValueRequested": false,
                                      "names": [
                                        null
                                      ],
                                      "type": "uint256",
                                      "type_conversion": false
                                    },
                                    "children": [
                                      {
                                        "attributes": {
                                          "argumentTypes": [
                                            {
                                              "typeIdentifier": "t_uint256",
                                              "typeString": "uint256"
                                            }
                                          ],
                                          "isConstant": false,
                                          "isLValue": false,
                                          "isPure": false,
                                          "lValueRequested": false,
                                          "member_name": "add",
                                          "referencedDeclaration": 11252,
                                          "type": "function (uint256,uint256) pure returns (uint256)"
                                        },
                                        "children": [
                                          {
                                            "attributes": {
                                              "argumentTypes": null,
                                              "overloadedDeclarations": [
                                                null
                                              ],
                                              "referencedDeclaration": 3419,
                                              "type": "uint256",
                                              "value": "negativeValue"
                                            },
                                            "id": 3472,
                                            "name": "Identifier",
                                            "src": "4465:13:28"
                                          }
                                        ],
                                        "id": 3473,
                                        "name": "MemberAccess",
                                        "src": "4465:17:28"
                                      },
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "overloadedDeclarations": [
                                            null
                                          ],
                                          "referencedDeclaration": 3452,
                                          "type": "uint256",
                                          "value": "positionValue"
                                        },
                                        "id": 3474,
                                        "name": "Identifier",
                                        "src": "4483:13:28"
                                      }
                                    ],
                                    "id": 3475,
                                    "name": "FunctionCall",
                                    "src": "4465:32:28"
                                  }
                                ],
                                "id": 3476,
                                "name": "Assignment",
                                "src": "4449:48:28"
                              }
                            ],
                            "id": 3477,
                            "name": "ExpressionStatement",
                            "src": "4449:48:28"
                          }
                        ],
                        "id": 3478,
                        "name": "Block",
                        "src": "4435:73:28"
                      }
                    ],
                    "id": 3479,
                    "name": "IfStatement",
                    "src": "4324:184:28"
                  },
                  {
                    "attributes": {
                      "functionReturnParameters": 3413
                    },
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "isConstant": false,
                          "isInlineArray": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "type": "tuple(uint256,uint256)"
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "overloadedDeclarations": [
                                null
                              ],
                              "referencedDeclaration": 3415,
                              "type": "uint256",
                              "value": "positiveValue"
                            },
                            "id": 3480,
                            "name": "Identifier",
                            "src": "4526:13:28"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "overloadedDeclarations": [
                                null
                              ],
                              "referencedDeclaration": 3419,
                              "type": "uint256",
                              "value": "negativeValue"
                            },
                            "id": 3481,
                            "name": "Identifier",
                            "src": "4541:13:28"
                          }
                        ],
                        "id": 3482,
                        "name": "TupleExpression",
                        "src": "4525:30:28"
                      }
                    ],
                    "id": 3483,
                    "name": "Return",
                    "src": "4518:37:28"
                  }
                ],
                "id": 3484,
                "name": "Block",
                "src": "3893:669:28"
              }
            ],
            "id": 3485,
            "name": "FunctionDefinition",
            "src": "3718:844:28"
          },
          {
            "attributes": {
              "documentation": "@dev Returns a compressed bytes32 representation of the balance for logging.",
              "implemented": true,
              "isConstructor": false,
              "kind": "function",
              "modifiers": [
                null
              ],
              "name": "toBytes32",
              "scope": 3607,
              "stateMutability": "pure",
              "superFunction": null,
              "visibility": "internal"
            },
            "children": [
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "name": "balance",
                      "scope": 3526,
                      "stateVariable": false,
                      "storageLocation": "memory",
                      "type": "struct P1Types.Balance",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "contractScope": null,
                          "name": "P1Types.Balance",
                          "referencedDeclaration": 3672,
                          "type": "struct P1Types.Balance"
                        },
                        "id": 3486,
                        "name": "UserDefinedTypeName",
                        "src": "4696:15:28"
                      }
                    ],
                    "id": 3487,
                    "name": "VariableDeclaration",
                    "src": "4696:30:28"
                  }
                ],
                "id": 3488,
                "name": "ParameterList",
                "src": "4686:46:28"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "name": "",
                      "scope": 3526,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "bytes32",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "bytes32",
                          "type": "bytes32"
                        },
                        "id": 3489,
                        "name": "ElementaryTypeName",
                        "src": "4780:7:28"
                      }
                    ],
                    "id": 3490,
                    "name": "VariableDeclaration",
                    "src": "4780:7:28"
                  }
                ],
                "id": 3491,
                "name": "ParameterList",
                "src": "4779:9:28"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "assignments": [
                        3493
                      ]
                    },
                    "children": [
                      {
                        "attributes": {
                          "constant": false,
                          "name": "result",
                          "scope": 3525,
                          "stateVariable": false,
                          "storageLocation": "default",
                          "type": "uint256",
                          "value": null,
                          "visibility": "internal"
                        },
                        "children": [
                          {
                            "attributes": {
                              "name": "uint256",
                              "type": "uint256"
                            },
                            "id": 3492,
                            "name": "ElementaryTypeName",
                            "src": "4803:7:28"
                          }
                        ],
                        "id": 3493,
                        "name": "VariableDeclaration",
                        "src": "4803:14:28"
                      },
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "operator": "|",
                          "type": "uint256"
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "commonType": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              },
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "operator": "|",
                              "type": "uint256"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "commonType": {
                                    "typeIdentifier": "t_uint256",
                                    "typeString": "uint256"
                                  },
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "operator": "|",
                                  "type": "uint256"
                                },
                                "children": [
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": false,
                                      "isStructConstructorCall": false,
                                      "lValueRequested": false,
                                      "names": [
                                        null
                                      ],
                                      "type": "uint256",
                                      "type_conversion": true
                                    },
                                    "children": [
                                      {
                                        "attributes": {
                                          "argumentTypes": [
                                            {
                                              "typeIdentifier": "t_uint120",
                                              "typeString": "uint120"
                                            }
                                          ],
                                          "isConstant": false,
                                          "isLValue": false,
                                          "isPure": true,
                                          "lValueRequested": false,
                                          "type": "type(uint256)",
                                          "value": "uint256"
                                        },
                                        "id": 3494,
                                        "name": "ElementaryTypeNameExpression",
                                        "src": "4832:7:28"
                                      },
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "isConstant": false,
                                          "isLValue": true,
                                          "isPure": false,
                                          "lValueRequested": false,
                                          "member_name": "position",
                                          "referencedDeclaration": 3671,
                                          "type": "uint120"
                                        },
                                        "children": [
                                          {
                                            "attributes": {
                                              "argumentTypes": null,
                                              "overloadedDeclarations": [
                                                null
                                              ],
                                              "referencedDeclaration": 3487,
                                              "type": "struct P1Types.Balance memory",
                                              "value": "balance"
                                            },
                                            "id": 3495,
                                            "name": "Identifier",
                                            "src": "4840:7:28"
                                          }
                                        ],
                                        "id": 3496,
                                        "name": "MemberAccess",
                                        "src": "4840:16:28"
                                      }
                                    ],
                                    "id": 3497,
                                    "name": "FunctionCall",
                                    "src": "4832:25:28"
                                  },
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "isConstant": false,
                                      "isInlineArray": false,
                                      "isLValue": false,
                                      "isPure": false,
                                      "lValueRequested": false,
                                      "type": "uint256"
                                    },
                                    "children": [
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "commonType": {
                                            "typeIdentifier": "t_uint256",
                                            "typeString": "uint256"
                                          },
                                          "isConstant": false,
                                          "isLValue": false,
                                          "isPure": false,
                                          "lValueRequested": false,
                                          "operator": "<<",
                                          "type": "uint256"
                                        },
                                        "children": [
                                          {
                                            "attributes": {
                                              "argumentTypes": null,
                                              "isConstant": false,
                                              "isLValue": false,
                                              "isPure": false,
                                              "isStructConstructorCall": false,
                                              "lValueRequested": false,
                                              "names": [
                                                null
                                              ],
                                              "type": "uint256",
                                              "type_conversion": true
                                            },
                                            "children": [
                                              {
                                                "attributes": {
                                                  "argumentTypes": [
                                                    {
                                                      "typeIdentifier": "t_uint120",
                                                      "typeString": "uint120"
                                                    }
                                                  ],
                                                  "isConstant": false,
                                                  "isLValue": false,
                                                  "isPure": true,
                                                  "lValueRequested": false,
                                                  "type": "type(uint256)",
                                                  "value": "uint256"
                                                },
                                                "id": 3498,
                                                "name": "ElementaryTypeNameExpression",
                                                "src": "4873:7:28"
                                              },
                                              {
                                                "attributes": {
                                                  "argumentTypes": null,
                                                  "isConstant": false,
                                                  "isLValue": true,
                                                  "isPure": false,
                                                  "lValueRequested": false,
                                                  "member_name": "margin",
                                                  "referencedDeclaration": 3669,
                                                  "type": "uint120"
                                                },
                                                "children": [
                                                  {
                                                    "attributes": {
                                                      "argumentTypes": null,
                                                      "overloadedDeclarations": [
                                                        null
                                                      ],
                                                      "referencedDeclaration": 3487,
                                                      "type": "struct P1Types.Balance memory",
                                                      "value": "balance"
                                                    },
                                                    "id": 3499,
                                                    "name": "Identifier",
                                                    "src": "4881:7:28"
                                                  }
                                                ],
                                                "id": 3500,
                                                "name": "MemberAccess",
                                                "src": "4881:14:28"
                                              }
                                            ],
                                            "id": 3501,
                                            "name": "FunctionCall",
                                            "src": "4873:23:28"
                                          },
                                          {
                                            "attributes": {
                                              "argumentTypes": null,
                                              "hexvalue": "313238",
                                              "isConstant": false,
                                              "isLValue": false,
                                              "isPure": true,
                                              "lValueRequested": false,
                                              "subdenomination": null,
                                              "token": "number",
                                              "type": "int_const 128",
                                              "value": "128"
                                            },
                                            "id": 3502,
                                            "name": "Literal",
                                            "src": "4900:3:28"
                                          }
                                        ],
                                        "id": 3503,
                                        "name": "BinaryOperation",
                                        "src": "4873:30:28"
                                      }
                                    ],
                                    "id": 3504,
                                    "name": "TupleExpression",
                                    "src": "4872:32:28"
                                  }
                                ],
                                "id": 3505,
                                "name": "BinaryOperation",
                                "src": "4832:72:28"
                              },
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "isConstant": false,
                                  "isInlineArray": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "type": "uint256"
                                },
                                "children": [
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": false,
                                      "lValueRequested": false,
                                      "type": "uint256"
                                    },
                                    "children": [
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "isConstant": false,
                                          "isLValue": true,
                                          "isPure": false,
                                          "lValueRequested": false,
                                          "member_name": "marginIsPositive",
                                          "referencedDeclaration": 3665,
                                          "type": "bool"
                                        },
                                        "children": [
                                          {
                                            "attributes": {
                                              "argumentTypes": null,
                                              "overloadedDeclarations": [
                                                null
                                              ],
                                              "referencedDeclaration": 3487,
                                              "type": "struct P1Types.Balance memory",
                                              "value": "balance"
                                            },
                                            "id": 3506,
                                            "name": "Identifier",
                                            "src": "4920:7:28"
                                          }
                                        ],
                                        "id": 3507,
                                        "name": "MemberAccess",
                                        "src": "4920:24:28"
                                      },
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "overloadedDeclarations": [
                                            null
                                          ],
                                          "referencedDeclaration": 3259,
                                          "type": "uint256",
                                          "value": "FLAG_MARGIN_IS_POSITIVE"
                                        },
                                        "id": 3508,
                                        "name": "Identifier",
                                        "src": "4947:23:28"
                                      },
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "hexvalue": "30",
                                          "isConstant": false,
                                          "isLValue": false,
                                          "isPure": true,
                                          "lValueRequested": false,
                                          "subdenomination": null,
                                          "token": "number",
                                          "type": "int_const 0",
                                          "value": "0"
                                        },
                                        "id": 3509,
                                        "name": "Literal",
                                        "src": "4973:1:28"
                                      }
                                    ],
                                    "id": 3510,
                                    "name": "Conditional",
                                    "src": "4920:54:28"
                                  }
                                ],
                                "id": 3511,
                                "name": "TupleExpression",
                                "src": "4919:56:28"
                              }
                            ],
                            "id": 3512,
                            "name": "BinaryOperation",
                            "src": "4832:143:28"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "isConstant": false,
                              "isInlineArray": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "type": "uint256"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "type": "uint256"
                                },
                                "children": [
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "isConstant": false,
                                      "isLValue": true,
                                      "isPure": false,
                                      "lValueRequested": false,
                                      "member_name": "positionIsPositive",
                                      "referencedDeclaration": 3667,
                                      "type": "bool"
                                    },
                                    "children": [
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "overloadedDeclarations": [
                                            null
                                          ],
                                          "referencedDeclaration": 3487,
                                          "type": "struct P1Types.Balance memory",
                                          "value": "balance"
                                        },
                                        "id": 3513,
                                        "name": "Identifier",
                                        "src": "4991:7:28"
                                      }
                                    ],
                                    "id": 3514,
                                    "name": "MemberAccess",
                                    "src": "4991:26:28"
                                  },
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "overloadedDeclarations": [
                                        null
                                      ],
                                      "referencedDeclaration": 3267,
                                      "type": "uint256",
                                      "value": "FLAG_POSITION_IS_POSITIVE"
                                    },
                                    "id": 3515,
                                    "name": "Identifier",
                                    "src": "5020:25:28"
                                  },
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "hexvalue": "30",
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": true,
                                      "lValueRequested": false,
                                      "subdenomination": null,
                                      "token": "number",
                                      "type": "int_const 0",
                                      "value": "0"
                                    },
                                    "id": 3516,
                                    "name": "Literal",
                                    "src": "5048:1:28"
                                  }
                                ],
                                "id": 3517,
                                "name": "Conditional",
                                "src": "4991:58:28"
                              }
                            ],
                            "id": 3518,
                            "name": "TupleExpression",
                            "src": "4990:60:28"
                          }
                        ],
                        "id": 3519,
                        "name": "BinaryOperation",
                        "src": "4832:218:28"
                      }
                    ],
                    "id": 3520,
                    "name": "VariableDeclarationStatement",
                    "src": "4803:247:28"
                  },
                  {
                    "attributes": {
                      "functionReturnParameters": 3491
                    },
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "isStructConstructorCall": false,
                          "lValueRequested": false,
                          "names": [
                            null
                          ],
                          "type": "bytes32",
                          "type_conversion": true
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": [
                                {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              ],
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "lValueRequested": false,
                              "type": "type(bytes32)",
                              "value": "bytes32"
                            },
                            "id": 3521,
                            "name": "ElementaryTypeNameExpression",
                            "src": "5067:7:28"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "overloadedDeclarations": [
                                null
                              ],
                              "referencedDeclaration": 3493,
                              "type": "uint256",
                              "value": "result"
                            },
                            "id": 3522,
                            "name": "Identifier",
                            "src": "5075:6:28"
                          }
                        ],
                        "id": 3523,
                        "name": "FunctionCall",
                        "src": "5067:15:28"
                      }
                    ],
                    "id": 3524,
                    "name": "Return",
                    "src": "5060:22:28"
                  }
                ],
                "id": 3525,
                "name": "Block",
                "src": "4793:296:28"
              }
            ],
            "id": 3526,
            "name": "FunctionDefinition",
            "src": "4668:421:28"
          },
          {
            "attributes": {
              "documentation": "@dev Returns a SignedMath.Int version of the margin in balance.",
              "implemented": true,
              "isConstructor": false,
              "kind": "function",
              "modifiers": [
                null
              ],
              "name": "getMargin",
              "scope": 3607,
              "stateMutability": "pure",
              "superFunction": null,
              "visibility": "internal"
            },
            "children": [
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "name": "balance",
                      "scope": 3542,
                      "stateVariable": false,
                      "storageLocation": "memory",
                      "type": "struct P1Types.Balance",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "contractScope": null,
                          "name": "P1Types.Balance",
                          "referencedDeclaration": 3672,
                          "type": "struct P1Types.Balance"
                        },
                        "id": 3527,
                        "name": "UserDefinedTypeName",
                        "src": "5261:15:28"
                      }
                    ],
                    "id": 3528,
                    "name": "VariableDeclaration",
                    "src": "5261:30:28"
                  }
                ],
                "id": 3529,
                "name": "ParameterList",
                "src": "5251:46:28"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "name": "",
                      "scope": 3542,
                      "stateVariable": false,
                      "storageLocation": "memory",
                      "type": "struct SignedMath.Int",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "contractScope": null,
                          "name": "SignedMath.Int",
                          "referencedDeclaration": 841,
                          "type": "struct SignedMath.Int"
                        },
                        "id": 3530,
                        "name": "UserDefinedTypeName",
                        "src": "5345:14:28"
                      }
                    ],
                    "id": 3531,
                    "name": "VariableDeclaration",
                    "src": "5345:21:28"
                  }
                ],
                "id": 3532,
                "name": "ParameterList",
                "src": "5344:23:28"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "functionReturnParameters": 3532
                    },
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "isStructConstructorCall": true,
                          "lValueRequested": false,
                          "names": [
                            "value",
                            "isPositive"
                          ],
                          "type": "struct SignedMath.Int memory",
                          "type_conversion": false
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": [
                                {
                                  "typeIdentifier": "t_uint120",
                                  "typeString": "uint120"
                                },
                                {
                                  "typeIdentifier": "t_bool",
                                  "typeString": "bool"
                                }
                              ],
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "member_name": "Int",
                              "referencedDeclaration": 841,
                              "type": "type(struct SignedMath.Int storage pointer)"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "overloadedDeclarations": [
                                    null
                                  ],
                                  "referencedDeclaration": 1070,
                                  "type": "type(library SignedMath)",
                                  "value": "SignedMath"
                                },
                                "id": 3533,
                                "name": "Identifier",
                                "src": "5389:10:28"
                              }
                            ],
                            "id": 3534,
                            "name": "MemberAccess",
                            "src": "5389:14:28"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "member_name": "margin",
                              "referencedDeclaration": 3669,
                              "type": "uint120"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "overloadedDeclarations": [
                                    null
                                  ],
                                  "referencedDeclaration": 3528,
                                  "type": "struct P1Types.Balance memory",
                                  "value": "balance"
                                },
                                "id": 3535,
                                "name": "Identifier",
                                "src": "5425:7:28"
                              }
                            ],
                            "id": 3536,
                            "name": "MemberAccess",
                            "src": "5425:14:28"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "member_name": "marginIsPositive",
                              "referencedDeclaration": 3665,
                              "type": "bool"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "overloadedDeclarations": [
                                    null
                                  ],
                                  "referencedDeclaration": 3528,
                                  "type": "struct P1Types.Balance memory",
                                  "value": "balance"
                                },
                                "id": 3537,
                                "name": "Identifier",
                                "src": "5465:7:28"
                              }
                            ],
                            "id": 3538,
                            "name": "MemberAccess",
                            "src": "5465:24:28"
                          }
                        ],
                        "id": 3539,
                        "name": "FunctionCall",
                        "src": "5389:111:28"
                      }
                    ],
                    "id": 3540,
                    "name": "Return",
                    "src": "5382:118:28"
                  }
                ],
                "id": 3541,
                "name": "Block",
                "src": "5372:135:28"
              }
            ],
            "id": 3542,
            "name": "FunctionDefinition",
            "src": "5233:274:28"
          },
          {
            "attributes": {
              "documentation": "@dev Returns a SignedMath.Int version of the position in balance.",
              "implemented": true,
              "isConstructor": false,
              "kind": "function",
              "modifiers": [
                null
              ],
              "name": "getPosition",
              "scope": 3607,
              "stateMutability": "pure",
              "superFunction": null,
              "visibility": "internal"
            },
            "children": [
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "name": "balance",
                      "scope": 3558,
                      "stateVariable": false,
                      "storageLocation": "memory",
                      "type": "struct P1Types.Balance",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "contractScope": null,
                          "name": "P1Types.Balance",
                          "referencedDeclaration": 3672,
                          "type": "struct P1Types.Balance"
                        },
                        "id": 3543,
                        "name": "UserDefinedTypeName",
                        "src": "5632:15:28"
                      }
                    ],
                    "id": 3544,
                    "name": "VariableDeclaration",
                    "src": "5632:30:28"
                  }
                ],
                "id": 3545,
                "name": "ParameterList",
                "src": "5622:46:28"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "name": "",
                      "scope": 3558,
                      "stateVariable": false,
                      "storageLocation": "memory",
                      "type": "struct SignedMath.Int",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "contractScope": null,
                          "name": "SignedMath.Int",
                          "referencedDeclaration": 841,
                          "type": "struct SignedMath.Int"
                        },
                        "id": 3546,
                        "name": "UserDefinedTypeName",
                        "src": "5716:14:28"
                      }
                    ],
                    "id": 3547,
                    "name": "VariableDeclaration",
                    "src": "5716:21:28"
                  }
                ],
                "id": 3548,
                "name": "ParameterList",
                "src": "5715:23:28"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "functionReturnParameters": 3548
                    },
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "isStructConstructorCall": true,
                          "lValueRequested": false,
                          "names": [
                            "value",
                            "isPositive"
                          ],
                          "type": "struct SignedMath.Int memory",
                          "type_conversion": false
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": [
                                {
                                  "typeIdentifier": "t_uint120",
                                  "typeString": "uint120"
                                },
                                {
                                  "typeIdentifier": "t_bool",
                                  "typeString": "bool"
                                }
                              ],
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "member_name": "Int",
                              "referencedDeclaration": 841,
                              "type": "type(struct SignedMath.Int storage pointer)"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "overloadedDeclarations": [
                                    null
                                  ],
                                  "referencedDeclaration": 1070,
                                  "type": "type(library SignedMath)",
                                  "value": "SignedMath"
                                },
                                "id": 3549,
                                "name": "Identifier",
                                "src": "5760:10:28"
                              }
                            ],
                            "id": 3550,
                            "name": "MemberAccess",
                            "src": "5760:14:28"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "member_name": "position",
                              "referencedDeclaration": 3671,
                              "type": "uint120"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "overloadedDeclarations": [
                                    null
                                  ],
                                  "referencedDeclaration": 3544,
                                  "type": "struct P1Types.Balance memory",
                                  "value": "balance"
                                },
                                "id": 3551,
                                "name": "Identifier",
                                "src": "5796:7:28"
                              }
                            ],
                            "id": 3552,
                            "name": "MemberAccess",
                            "src": "5796:16:28"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "member_name": "positionIsPositive",
                              "referencedDeclaration": 3667,
                              "type": "bool"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "overloadedDeclarations": [
                                    null
                                  ],
                                  "referencedDeclaration": 3544,
                                  "type": "struct P1Types.Balance memory",
                                  "value": "balance"
                                },
                                "id": 3553,
                                "name": "Identifier",
                                "src": "5838:7:28"
                              }
                            ],
                            "id": 3554,
                            "name": "MemberAccess",
                            "src": "5838:26:28"
                          }
                        ],
                        "id": 3555,
                        "name": "FunctionCall",
                        "src": "5760:115:28"
                      }
                    ],
                    "id": 3556,
                    "name": "Return",
                    "src": "5753:122:28"
                  }
                ],
                "id": 3557,
                "name": "Block",
                "src": "5743:139:28"
              }
            ],
            "id": 3558,
            "name": "FunctionDefinition",
            "src": "5602:280:28"
          },
          {
            "attributes": {
              "documentation": "@dev In-place modify the signed margin value of a balance.",
              "implemented": true,
              "isConstructor": false,
              "kind": "function",
              "modifiers": [
                null
              ],
              "name": "setMargin",
              "scope": 3607,
              "stateMutability": "pure",
              "superFunction": null,
              "visibility": "internal"
            },
            "children": [
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "name": "balance",
                      "scope": 3582,
                      "stateVariable": false,
                      "storageLocation": "memory",
                      "type": "struct P1Types.Balance",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "contractScope": null,
                          "name": "P1Types.Balance",
                          "referencedDeclaration": 3672,
                          "type": "struct P1Types.Balance"
                        },
                        "id": 3559,
                        "name": "UserDefinedTypeName",
                        "src": "5998:15:28"
                      }
                    ],
                    "id": 3560,
                    "name": "VariableDeclaration",
                    "src": "5998:30:28"
                  },
                  {
                    "attributes": {
                      "constant": false,
                      "name": "newMargin",
                      "scope": 3582,
                      "stateVariable": false,
                      "storageLocation": "memory",
                      "type": "struct SignedMath.Int",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "contractScope": null,
                          "name": "SignedMath.Int",
                          "referencedDeclaration": 841,
                          "type": "struct SignedMath.Int"
                        },
                        "id": 3561,
                        "name": "UserDefinedTypeName",
                        "src": "6038:14:28"
                      }
                    ],
                    "id": 3562,
                    "name": "VariableDeclaration",
                    "src": "6038:31:28"
                  }
                ],
                "id": 3563,
                "name": "ParameterList",
                "src": "5988:87:28"
              },
              {
                "attributes": {
                  "parameters": [
                    null
                  ]
                },
                "children": [],
                "id": 3564,
                "name": "ParameterList",
                "src": "6110:0:28"
              },
              {
                "children": [
                  {
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "operator": "=",
                          "type": "uint120"
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": true,
                              "member_name": "margin",
                              "referencedDeclaration": 3669,
                              "type": "uint120"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "overloadedDeclarations": [
                                    null
                                  ],
                                  "referencedDeclaration": 3560,
                                  "type": "struct P1Types.Balance memory",
                                  "value": "balance"
                                },
                                "id": 3565,
                                "name": "Identifier",
                                "src": "6120:7:28"
                              }
                            ],
                            "id": 3567,
                            "name": "MemberAccess",
                            "src": "6120:14:28"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "arguments": [
                                null
                              ],
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "isStructConstructorCall": false,
                              "lValueRequested": false,
                              "names": [
                                null
                              ],
                              "type": "uint120",
                              "type_conversion": false
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": [
                                    null
                                  ],
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "member_name": "toUint120",
                                  "referencedDeclaration": 806,
                                  "type": "function (uint256) pure returns (uint120)"
                                },
                                "children": [
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "isConstant": false,
                                      "isLValue": true,
                                      "isPure": false,
                                      "lValueRequested": false,
                                      "member_name": "value",
                                      "referencedDeclaration": 838,
                                      "type": "uint256"
                                    },
                                    "children": [
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "overloadedDeclarations": [
                                            null
                                          ],
                                          "referencedDeclaration": 3562,
                                          "type": "struct SignedMath.Int memory",
                                          "value": "newMargin"
                                        },
                                        "id": 3568,
                                        "name": "Identifier",
                                        "src": "6137:9:28"
                                      }
                                    ],
                                    "id": 3569,
                                    "name": "MemberAccess",
                                    "src": "6137:15:28"
                                  }
                                ],
                                "id": 3570,
                                "name": "MemberAccess",
                                "src": "6137:25:28"
                              }
                            ],
                            "id": 3571,
                            "name": "FunctionCall",
                            "src": "6137:27:28"
                          }
                        ],
                        "id": 3572,
                        "name": "Assignment",
                        "src": "6120:44:28"
                      }
                    ],
                    "id": 3573,
                    "name": "ExpressionStatement",
                    "src": "6120:44:28"
                  },
                  {
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "operator": "=",
                          "type": "bool"
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": true,
                              "member_name": "marginIsPositive",
                              "referencedDeclaration": 3665,
                              "type": "bool"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "overloadedDeclarations": [
                                    null
                                  ],
                                  "referencedDeclaration": 3560,
                                  "type": "struct P1Types.Balance memory",
                                  "value": "balance"
                                },
                                "id": 3574,
                                "name": "Identifier",
                                "src": "6174:7:28"
                              }
                            ],
                            "id": 3576,
                            "name": "MemberAccess",
                            "src": "6174:24:28"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "member_name": "isPositive",
                              "referencedDeclaration": 840,
                              "type": "bool"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "overloadedDeclarations": [
                                    null
                                  ],
                                  "referencedDeclaration": 3562,
                                  "type": "struct SignedMath.Int memory",
                                  "value": "newMargin"
                                },
                                "id": 3577,
                                "name": "Identifier",
                                "src": "6201:9:28"
                              }
                            ],
                            "id": 3578,
                            "name": "MemberAccess",
                            "src": "6201:20:28"
                          }
                        ],
                        "id": 3579,
                        "name": "Assignment",
                        "src": "6174:47:28"
                      }
                    ],
                    "id": 3580,
                    "name": "ExpressionStatement",
                    "src": "6174:47:28"
                  }
                ],
                "id": 3581,
                "name": "Block",
                "src": "6110:118:28"
              }
            ],
            "id": 3582,
            "name": "FunctionDefinition",
            "src": "5970:258:28"
          },
          {
            "attributes": {
              "documentation": "@dev In-place modify the signed position value of a balance.",
              "implemented": true,
              "isConstructor": false,
              "kind": "function",
              "modifiers": [
                null
              ],
              "name": "setPosition",
              "scope": 3607,
              "stateMutability": "pure",
              "superFunction": null,
              "visibility": "internal"
            },
            "children": [
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "name": "balance",
                      "scope": 3606,
                      "stateVariable": false,
                      "storageLocation": "memory",
                      "type": "struct P1Types.Balance",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "contractScope": null,
                          "name": "P1Types.Balance",
                          "referencedDeclaration": 3672,
                          "type": "struct P1Types.Balance"
                        },
                        "id": 3583,
                        "name": "UserDefinedTypeName",
                        "src": "6348:15:28"
                      }
                    ],
                    "id": 3584,
                    "name": "VariableDeclaration",
                    "src": "6348:30:28"
                  },
                  {
                    "attributes": {
                      "constant": false,
                      "name": "newPosition",
                      "scope": 3606,
                      "stateVariable": false,
                      "storageLocation": "memory",
                      "type": "struct SignedMath.Int",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "contractScope": null,
                          "name": "SignedMath.Int",
                          "referencedDeclaration": 841,
                          "type": "struct SignedMath.Int"
                        },
                        "id": 3585,
                        "name": "UserDefinedTypeName",
                        "src": "6388:14:28"
                      }
                    ],
                    "id": 3586,
                    "name": "VariableDeclaration",
                    "src": "6388:33:28"
                  }
                ],
                "id": 3587,
                "name": "ParameterList",
                "src": "6338:89:28"
              },
              {
                "attributes": {
                  "parameters": [
                    null
                  ]
                },
                "children": [],
                "id": 3588,
                "name": "ParameterList",
                "src": "6462:0:28"
              },
              {
                "children": [
                  {
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "operator": "=",
                          "type": "uint120"
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": true,
                              "member_name": "position",
                              "referencedDeclaration": 3671,
                              "type": "uint120"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "overloadedDeclarations": [
                                    null
                                  ],
                                  "referencedDeclaration": 3584,
                                  "type": "struct P1Types.Balance memory",
                                  "value": "balance"
                                },
                                "id": 3589,
                                "name": "Identifier",
                                "src": "6472:7:28"
                              }
                            ],
                            "id": 3591,
                            "name": "MemberAccess",
                            "src": "6472:16:28"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "arguments": [
                                null
                              ],
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "isStructConstructorCall": false,
                              "lValueRequested": false,
                              "names": [
                                null
                              ],
                              "type": "uint120",
                              "type_conversion": false
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": [
                                    null
                                  ],
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "member_name": "toUint120",
                                  "referencedDeclaration": 806,
                                  "type": "function (uint256) pure returns (uint120)"
                                },
                                "children": [
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "isConstant": false,
                                      "isLValue": true,
                                      "isPure": false,
                                      "lValueRequested": false,
                                      "member_name": "value",
                                      "referencedDeclaration": 838,
                                      "type": "uint256"
                                    },
                                    "children": [
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "overloadedDeclarations": [
                                            null
                                          ],
                                          "referencedDeclaration": 3586,
                                          "type": "struct SignedMath.Int memory",
                                          "value": "newPosition"
                                        },
                                        "id": 3592,
                                        "name": "Identifier",
                                        "src": "6491:11:28"
                                      }
                                    ],
                                    "id": 3593,
                                    "name": "MemberAccess",
                                    "src": "6491:17:28"
                                  }
                                ],
                                "id": 3594,
                                "name": "MemberAccess",
                                "src": "6491:27:28"
                              }
                            ],
                            "id": 3595,
                            "name": "FunctionCall",
                            "src": "6491:29:28"
                          }
                        ],
                        "id": 3596,
                        "name": "Assignment",
                        "src": "6472:48:28"
                      }
                    ],
                    "id": 3597,
                    "name": "ExpressionStatement",
                    "src": "6472:48:28"
                  },
                  {
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "operator": "=",
                          "type": "bool"
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": true,
                              "member_name": "positionIsPositive",
                              "referencedDeclaration": 3667,
                              "type": "bool"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "overloadedDeclarations": [
                                    null
                                  ],
                                  "referencedDeclaration": 3584,
                                  "type": "struct P1Types.Balance memory",
                                  "value": "balance"
                                },
                                "id": 3598,
                                "name": "Identifier",
                                "src": "6530:7:28"
                              }
                            ],
                            "id": 3600,
                            "name": "MemberAccess",
                            "src": "6530:26:28"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "member_name": "isPositive",
                              "referencedDeclaration": 840,
                              "type": "bool"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "overloadedDeclarations": [
                                    null
                                  ],
                                  "referencedDeclaration": 3586,
                                  "type": "struct SignedMath.Int memory",
                                  "value": "newPosition"
                                },
                                "id": 3601,
                                "name": "Identifier",
                                "src": "6559:11:28"
                              }
                            ],
                            "id": 3602,
                            "name": "MemberAccess",
                            "src": "6559:22:28"
                          }
                        ],
                        "id": 3603,
                        "name": "Assignment",
                        "src": "6530:51:28"
                      }
                    ],
                    "id": 3604,
                    "name": "ExpressionStatement",
                    "src": "6530:51:28"
                  }
                ],
                "id": 3605,
                "name": "Block",
                "src": "6462:126:28"
              }
            ],
            "id": 3606,
            "name": "FunctionDefinition",
            "src": "6318:270:28"
          }
        ],
        "id": 3607,
        "name": "ContractDefinition",
        "src": "1041:5549:28"
      }
    ],
    "id": 3608,
    "name": "SourceUnit",
    "src": "603:5988:28"
  },
  "compiler": {
    "name": "solc",
    "version": "0.5.16+commit.9c3226ce.Linux.g++"
  },
  "networks": {},
  "schemaVersion": "3.3.4",
  "updatedAt": "2021-04-01T16:42:57.397Z",
  "devdoc": {
    "author": "dYdX",
    "details": "Library for manipulating P1Types.Balance structs.",
    "methods": {},
    "title": "P1BalanceMath"
  },
  "userdoc": {
    "methods": {}
  }
}